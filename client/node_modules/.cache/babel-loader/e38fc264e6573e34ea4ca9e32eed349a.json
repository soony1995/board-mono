{"ast":null,"code":"var _jsxFileName = \"/home/soon/bulletin-board/src/App.js\";\n/**\nhook의 규칙\n1. 컴포넌트 최상단에서만 호출해야한다.\n2. 다른 조건문, 함수선언문, 반복문 등 중첩된 함수 안에서는 호출 할 수 없다.\n3. 컴포넌트 내부 함수에서 callback으로도 호출 할 수 없다.\n4. 함수 컴포넌트에서 호출할 수 있다. (Custom hook에서 예외처리 가능)\n */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Routes, Route, Link } from 'react-router-dom';\nimport './App.css';\nimport PostList from './PostList';\nimport PostDetail from './PostDetail';\nimport NewPost from './NewPost';\nimport { api } from './services/api';\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const loadPosts = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await api.getPosts();\n      console.error('데이터가 배열입니다.', response.data);\n      setPosts(response.data);\n      setError(null);\n    } catch (error) {\n      console.error('게시물을 불러오는데 실패했습니다:', error);\n      setError('게시물을 불러오는 데 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    loadPosts();\n  }, [loadPosts]); // loadPosts가 변경될 때마다 실행\n\n  /*\n  useEffect 내부에서 사용하는 모든 변수와 함수는 의존성 배열에 포함시켜야 합니다. \n  이는 ESLint 플러그인(eslint-plugin-react-hooks)에서 자동으로 검사하며, \n  이를 무시하면 잠재적인 버그를 초래할 수 있습니다.\n  */\n\n  const addPost = async ({\n    title,\n    content\n  }) => {\n    setLoading(true);\n    try {\n      const response = await api.createPost({\n        title,\n        content\n      });\n      console.log('createPost response:', response.data);\n      setPosts(prevPosts => {\n        console.log('Previous posts:', prevPosts);\n        if (!Array.isArray(prevPosts)) {\n          console.error('posts state is not an array:', prevPosts);\n          return []; // 적절한 기본값으로 설정\n        }\n        return [...prevPosts, response.data];\n      });\n      setError(null);\n    } catch (error) {\n      console.error('게시물 작성에 실패했습니다:', error);\n      setError('게시물 작성에 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"\\uAC8C\\uC2DC\\uD310\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"\\uBAA9\\uB85D\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"\\uC0C8 \\uAC8C\\uC2DC\\uBB3C \\uC791\\uC131\")), loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, \"\\uB85C\\uB529 \\uC911...\"), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, error), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(PostList, {\n      posts: posts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/post/:id\",\n    element: /*#__PURE__*/React.createElement(PostDetail, {\n      posts: posts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 42\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/new\",\n    element: /*#__PURE__*/React.createElement(NewPost, {\n      addPost: addPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })));\n}\nexport default App;\n\n/** \n * 리액트에서 <a>태그 대신 <Link> 컴포넌트를 사용해야 하는 이유\n<a> 태그는 새로운 페이지 전환이 일어날 때마다 전체 페이지를 다시 렌더링하게 되어 초기 상태부터 다시 로드되며, \n그로인해 기존의 state(유저가 작성한 데이터, 또는 스크롤 위치 등)이 초기화 되는 문제가 발생한다.\n반면에 Link 컴포넌트는 페이지 전환을 부드럽게 처리하기 위해 내부적으로 History API를 사용하기 때문에, \n페이지 간 전환 시에 새로고침 없이 필요한 컴포넌트만 렌더링 되어 효율적으로 작동한다.\n */\n\n/*\nuseLocation 사용 시점\n현재 URL의 경로 따라 다른 컴포넌트를 렌더링하거나 특정 동작을 수행해야 할 때.\n라우트 기반의 로직을 구현할 때 필요합니다.\nContext 사용 시점\n여러 컴포넌트에서 공통으로 사용하는 데이터를 관리할 때.\n프롭스 드릴링을 줄이고, 전역 상태를 효율적으로 관리하고 싶을 때 유용합니다.\n*/","map":{"version":3,"names":["React","useState","useEffect","useCallback","Routes","Route","Link","PostList","PostDetail","NewPost","api","App","posts","setPosts","error","setError","loading","setLoading","loadPosts","response","getPosts","console","data","addPost","title","content","createPost","log","prevPosts","Array","isArray","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","path","element"],"sources":["/home/soon/bulletin-board/src/App.js"],"sourcesContent":["/**\nhook의 규칙\n1. 컴포넌트 최상단에서만 호출해야한다.\n2. 다른 조건문, 함수선언문, 반복문 등 중첩된 함수 안에서는 호출 할 수 없다.\n3. 컴포넌트 내부 함수에서 callback으로도 호출 할 수 없다.\n4. 함수 컴포넌트에서 호출할 수 있다. (Custom hook에서 예외처리 가능)\n */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Routes, Route, Link } from 'react-router-dom';\nimport './App.css';\nimport PostList from './PostList';\nimport PostDetail from './PostDetail';\nimport NewPost from './NewPost';\nimport { api } from './services/api';\n\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const loadPosts = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await api.getPosts();      \n      console.error('데이터가 배열입니다.', response.data);\n      setPosts(response.data);      \n      setError(null);\n    } catch (error) {\n      console.error('게시물을 불러오는데 실패했습니다:', error);\n      setError('게시물을 불러오는 데 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {    \n    loadPosts();\n  }, [loadPosts]); // loadPosts가 변경될 때마다 실행\n\n  /*\n  useEffect 내부에서 사용하는 모든 변수와 함수는 의존성 배열에 포함시켜야 합니다. \n  이는 ESLint 플러그인(eslint-plugin-react-hooks)에서 자동으로 검사하며, \n  이를 무시하면 잠재적인 버그를 초래할 수 있습니다.\n  */  \n\n  const addPost = async ({ title, content }) => {\n    setLoading(true);\n    try {\n      const response = await api.createPost({ title, content });\n      console.log('createPost response:', response.data);            \n      setPosts(prevPosts => {\n        console.log('Previous posts:', prevPosts);\n        if (!Array.isArray(prevPosts)) {\n          console.error('posts state is not an array:', prevPosts);\n          return []; // 적절한 기본값으로 설정\n        }\n        return [...prevPosts, response.data];\n      });\n      setError(null);\n    } catch (error) {\n      console.error('게시물 작성에 실패했습니다:', error);\n      setError('게시물 작성에 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>게시판</h1>      \n      <nav>\n        <Link to=\"/\">목록</Link>\n        <Link to=\"/new\">새 게시물 작성</Link>\n      </nav>\n      {loading && <div className=\"loading\">로딩 중...</div>}\n      {error && <div className=\"error\">{error}</div>}\n      <Routes>\n        <Route path=\"/\" element={<PostList posts={posts} />} />\n        <Route path=\"/post/:id\" element={<PostDetail posts={posts} />} />\n        <Route path=\"/new\" element={<NewPost addPost={addPost} />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n\n/** \n * 리액트에서 <a>태그 대신 <Link> 컴포넌트를 사용해야 하는 이유\n<a> 태그는 새로운 페이지 전환이 일어날 때마다 전체 페이지를 다시 렌더링하게 되어 초기 상태부터 다시 로드되며, \n그로인해 기존의 state(유저가 작성한 데이터, 또는 스크롤 위치 등)이 초기화 되는 문제가 발생한다.\n반면에 Link 컴포넌트는 페이지 전환을 부드럽게 처리하기 위해 내부적으로 History API를 사용하기 때문에, \n페이지 간 전환 시에 새로고침 없이 필요한 컴포넌트만 렌더링 되어 효율적으로 작동한다.\n */\n\n/*\nuseLocation 사용 시점\n현재 URL의 경로 따라 다른 컴포넌트를 렌더링하거나 특정 동작을 수행해야 할 때.\n라우트 기반의 로직을 구현할 때 필요합니다.\nContext 사용 시점\n여러 컴포넌트에서 공통으로 사용하는 데이터를 관리할 때.\n프롭스 드릴링을 줄이고, 전역 상태를 효율적으로 관리하고 싶을 때 유용합니다.\n*/\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}