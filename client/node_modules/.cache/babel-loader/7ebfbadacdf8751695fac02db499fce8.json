{"ast":null,"code":"/* eslint-disable\n  strict,\n  no-param-reassign\n*/\n\n'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Ajv = require('ajv');\nconst errors = require('ajv-errors');\nconst keywords = require('ajv-keywords');\nconst ValidationError = require('./ValidationError');\nconst ajv = new Ajv({\n  allErrors: true,\n  jsonPointers: true\n});\nerrors(ajv);\nkeywords(ajv, ['instanceof', 'typeof']);\nconst validateOptions = (schema, options, name) => {\n  if (typeof schema === 'string') {\n    schema = fs.readFileSync(path.resolve(schema), 'utf8');\n    schema = JSON.parse(schema);\n  }\n  if (!ajv.validate(schema, options)) {\n    throw new ValidationError(ajv.errors, name);\n  }\n  return true;\n};\nmodule.exports = validateOptions;","map":{"version":3,"names":["fs","require","path","Ajv","errors","keywords","ValidationError","ajv","allErrors","jsonPointers","validateOptions","schema","options","name","readFileSync","resolve","JSON","parse","validate","module","exports"],"sources":["/home/soon/bulletin-board/node_modules/schema-utils/src/validateOptions.js"],"sourcesContent":["/* eslint-disable\n  strict,\n  no-param-reassign\n*/\n\n'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\n\nconst Ajv = require('ajv');\nconst errors = require('ajv-errors');\nconst keywords = require('ajv-keywords');\n\nconst ValidationError = require('./ValidationError');\n\nconst ajv = new Ajv({\n  allErrors: true,\n  jsonPointers: true,\n});\n\nerrors(ajv);\nkeywords(ajv, ['instanceof', 'typeof']);\n\nconst validateOptions = (schema, options, name) => {\n  if (typeof schema === 'string') {\n    schema = fs.readFileSync(path.resolve(schema), 'utf8');\n    schema = JSON.parse(schema);\n  }\n\n  if (!ajv.validate(schema, options)) {\n    throw new ValidationError(ajv.errors, name);\n  }\n\n  return true;\n};\n\nmodule.exports = validateOptions;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAME,GAAG,GAAGF,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMG,MAAM,GAAGH,OAAO,CAAC,YAAY,CAAC;AACpC,MAAMI,QAAQ,GAAGJ,OAAO,CAAC,cAAc,CAAC;AAExC,MAAMK,eAAe,GAAGL,OAAO,CAAC,mBAAmB,CAAC;AAEpD,MAAMM,GAAG,GAAG,IAAIJ,GAAG,CAAC;EAClBK,SAAS,EAAE,IAAI;EACfC,YAAY,EAAE;AAChB,CAAC,CAAC;AAEFL,MAAM,CAACG,GAAG,CAAC;AACXF,QAAQ,CAACE,GAAG,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;AAEvC,MAAMG,eAAe,GAAGA,CAACC,MAAM,EAAEC,OAAO,EAAEC,IAAI,KAAK;EACjD,IAAI,OAAOF,MAAM,KAAK,QAAQ,EAAE;IAC9BA,MAAM,GAAGX,EAAE,CAACc,YAAY,CAACZ,IAAI,CAACa,OAAO,CAACJ,MAAM,CAAC,EAAE,MAAM,CAAC;IACtDA,MAAM,GAAGK,IAAI,CAACC,KAAK,CAACN,MAAM,CAAC;EAC7B;EAEA,IAAI,CAACJ,GAAG,CAACW,QAAQ,CAACP,MAAM,EAAEC,OAAO,CAAC,EAAE;IAClC,MAAM,IAAIN,eAAe,CAACC,GAAG,CAACH,MAAM,EAAES,IAAI,CAAC;EAC7C;EAEA,OAAO,IAAI;AACb,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAGV,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script"}