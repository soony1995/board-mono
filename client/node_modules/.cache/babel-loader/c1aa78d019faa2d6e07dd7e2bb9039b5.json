{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst DependencyReference = require(\"./DependencyReference\");\nconst ModuleDependency = require(\"./ModuleDependency\");\nconst Template = require(\"../Template\");\nclass HarmonyImportDependency extends ModuleDependency {\n  constructor(request, originModule, sourceOrder, parserScope) {\n    super(request);\n    this.redirectedModule = undefined;\n    this.originModule = originModule;\n    this.sourceOrder = sourceOrder;\n    this.parserScope = parserScope;\n  }\n  get _module() {\n    return this.redirectedModule || this.module;\n  }\n  getReference() {\n    if (!this._module) return null;\n    return new DependencyReference(this._module, false, this.weak, this.sourceOrder);\n  }\n  getImportVar() {\n    let importVarMap = this.parserScope.importVarMap;\n    if (!importVarMap) this.parserScope.importVarMap = importVarMap = new Map();\n    let importVar = importVarMap.get(this._module);\n    if (importVar) return importVar;\n    importVar = `${Template.toIdentifier(`${this.userRequest}`)}__WEBPACK_IMPORTED_MODULE_${importVarMap.size}__`;\n    importVarMap.set(this._module, importVar);\n    return importVar;\n  }\n  getImportStatement(update, runtime) {\n    return runtime.importStatement({\n      update,\n      module: this._module,\n      importVar: this.getImportVar(),\n      request: this.request,\n      originModule: this.originModule\n    });\n  }\n  updateHash(hash) {\n    super.updateHash(hash);\n    const importedModule = this._module;\n    hash.update((importedModule && (!importedModule.buildMeta || importedModule.buildMeta.exportsType)) + \"\");\n    hash.update((importedModule && importedModule.id) + \"\");\n  }\n  disconnect() {\n    super.disconnect();\n    this.redirectedModule = undefined;\n  }\n}\nmodule.exports = HarmonyImportDependency;\nconst importEmittedMap = new WeakMap();\nHarmonyImportDependency.Template = class HarmonyImportDependencyTemplate {\n  apply(dep, source, runtime) {\n    // no-op\n  }\n  getHarmonyInitOrder(dep) {\n    return dep.sourceOrder;\n  }\n  static isImportEmitted(dep, source) {\n    let sourceInfo = importEmittedMap.get(source);\n    if (!sourceInfo) return false;\n    const key = dep._module || dep.request;\n    return key && sourceInfo.emittedImports.get(key);\n  }\n  harmonyInit(dep, source, runtime, dependencyTemplates) {\n    let sourceInfo = importEmittedMap.get(source);\n    if (!sourceInfo) {\n      importEmittedMap.set(source, sourceInfo = {\n        emittedImports: new Map()\n      });\n    }\n    const key = dep._module || dep.request;\n    if (key && sourceInfo.emittedImports.get(key)) return;\n    sourceInfo.emittedImports.set(key, true);\n    const content = dep.getImportStatement(false, runtime);\n    source.insert(-1, content);\n  }\n};","map":{"version":3,"names":["DependencyReference","require","ModuleDependency","Template","HarmonyImportDependency","constructor","request","originModule","sourceOrder","parserScope","redirectedModule","undefined","_module","module","getReference","weak","getImportVar","importVarMap","Map","importVar","get","toIdentifier","userRequest","size","set","getImportStatement","update","runtime","importStatement","updateHash","hash","importedModule","buildMeta","exportsType","id","disconnect","exports","importEmittedMap","WeakMap","HarmonyImportDependencyTemplate","apply","dep","source","getHarmonyInitOrder","isImportEmitted","sourceInfo","key","emittedImports","harmonyInit","dependencyTemplates","content","insert"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/dependencies/HarmonyImportDependency.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst DependencyReference = require(\"./DependencyReference\");\nconst ModuleDependency = require(\"./ModuleDependency\");\nconst Template = require(\"../Template\");\n\nclass HarmonyImportDependency extends ModuleDependency {\n\tconstructor(request, originModule, sourceOrder, parserScope) {\n\t\tsuper(request);\n\t\tthis.redirectedModule = undefined;\n\t\tthis.originModule = originModule;\n\t\tthis.sourceOrder = sourceOrder;\n\t\tthis.parserScope = parserScope;\n\t}\n\n\tget _module() {\n\t\treturn this.redirectedModule || this.module;\n\t}\n\n\tgetReference() {\n\t\tif (!this._module) return null;\n\t\treturn new DependencyReference(\n\t\t\tthis._module,\n\t\t\tfalse,\n\t\t\tthis.weak,\n\t\t\tthis.sourceOrder\n\t\t);\n\t}\n\n\tgetImportVar() {\n\t\tlet importVarMap = this.parserScope.importVarMap;\n\t\tif (!importVarMap) this.parserScope.importVarMap = importVarMap = new Map();\n\t\tlet importVar = importVarMap.get(this._module);\n\t\tif (importVar) return importVar;\n\t\timportVar = `${Template.toIdentifier(\n\t\t\t`${this.userRequest}`\n\t\t)}__WEBPACK_IMPORTED_MODULE_${importVarMap.size}__`;\n\t\timportVarMap.set(this._module, importVar);\n\t\treturn importVar;\n\t}\n\n\tgetImportStatement(update, runtime) {\n\t\treturn runtime.importStatement({\n\t\t\tupdate,\n\t\t\tmodule: this._module,\n\t\t\timportVar: this.getImportVar(),\n\t\t\trequest: this.request,\n\t\t\toriginModule: this.originModule\n\t\t});\n\t}\n\n\tupdateHash(hash) {\n\t\tsuper.updateHash(hash);\n\t\tconst importedModule = this._module;\n\t\thash.update(\n\t\t\t(importedModule &&\n\t\t\t\t(!importedModule.buildMeta || importedModule.buildMeta.exportsType)) +\n\t\t\t\t\"\"\n\t\t);\n\t\thash.update((importedModule && importedModule.id) + \"\");\n\t}\n\n\tdisconnect() {\n\t\tsuper.disconnect();\n\t\tthis.redirectedModule = undefined;\n\t}\n}\n\nmodule.exports = HarmonyImportDependency;\n\nconst importEmittedMap = new WeakMap();\n\nHarmonyImportDependency.Template = class HarmonyImportDependencyTemplate {\n\tapply(dep, source, runtime) {\n\t\t// no-op\n\t}\n\n\tgetHarmonyInitOrder(dep) {\n\t\treturn dep.sourceOrder;\n\t}\n\n\tstatic isImportEmitted(dep, source) {\n\t\tlet sourceInfo = importEmittedMap.get(source);\n\t\tif (!sourceInfo) return false;\n\t\tconst key = dep._module || dep.request;\n\t\treturn key && sourceInfo.emittedImports.get(key);\n\t}\n\n\tharmonyInit(dep, source, runtime, dependencyTemplates) {\n\t\tlet sourceInfo = importEmittedMap.get(source);\n\t\tif (!sourceInfo) {\n\t\t\timportEmittedMap.set(\n\t\t\t\tsource,\n\t\t\t\t(sourceInfo = {\n\t\t\t\t\temittedImports: new Map()\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\tconst key = dep._module || dep.request;\n\t\tif (key && sourceInfo.emittedImports.get(key)) return;\n\t\tsourceInfo.emittedImports.set(key, true);\n\t\tconst content = dep.getImportStatement(false, runtime);\n\t\tsource.insert(-1, content);\n\t}\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}