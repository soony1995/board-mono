{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nimport { print } from \"@webassemblyjs/wast-printer\";\nvar SHOW_LINES_AROUND_POINTER = 5;\nfunction repeat(char, nb) {\n  return Array(nb).fill(char).join(\"\");\n} // TODO(sven): allow arbitrary ast nodes\n\nexport function codeFrameFromAst(ast, loc) {\n  return codeFrameFromSource(print(ast), loc);\n}\nexport function codeFrameFromSource(source, loc) {\n  var start = loc.start,\n    end = loc.end;\n  var length = 1;\n  if (_typeof(end) === \"object\") {\n    length = end.column - start.column + 1;\n  }\n  return source.split(\"\\n\").reduce(function (acc, line, lineNbr) {\n    if (Math.abs(start.line - lineNbr) < SHOW_LINES_AROUND_POINTER) {\n      acc += line + \"\\n\";\n    } // Add a new line with the pointer padded left\n\n    if (lineNbr === start.line - 1) {\n      acc += repeat(\" \", start.column - 1);\n      acc += repeat(\"^\", length);\n      acc += \"\\n\";\n    }\n    return acc;\n  }, \"\");\n}","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","print","SHOW_LINES_AROUND_POINTER","repeat","char","nb","Array","fill","join","codeFrameFromAst","ast","loc","codeFrameFromSource","source","start","end","length","column","split","reduce","acc","line","lineNbr","Math","abs"],"sources":["/home/soon/bulletin-board/node_modules/@webassemblyjs/helper-code-frame/esm/index.js"],"sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { print } from \"@webassemblyjs/wast-printer\";\nvar SHOW_LINES_AROUND_POINTER = 5;\n\nfunction repeat(char, nb) {\n  return Array(nb).fill(char).join(\"\");\n} // TODO(sven): allow arbitrary ast nodes\n\n\nexport function codeFrameFromAst(ast, loc) {\n  return codeFrameFromSource(print(ast), loc);\n}\nexport function codeFrameFromSource(source, loc) {\n  var start = loc.start,\n      end = loc.end;\n  var length = 1;\n\n  if (_typeof(end) === \"object\") {\n    length = end.column - start.column + 1;\n  }\n\n  return source.split(\"\\n\").reduce(function (acc, line, lineNbr) {\n    if (Math.abs(start.line - lineNbr) < SHOW_LINES_AROUND_POINTER) {\n      acc += line + \"\\n\";\n    } // Add a new line with the pointer padded left\n\n\n    if (lineNbr === start.line - 1) {\n      acc += repeat(\" \", start.column - 1);\n      acc += repeat(\"^\", length);\n      acc += \"\\n\";\n    }\n\n    return acc;\n  }, \"\");\n}"],"mappings":"AAAA,SAASA,OAAOA,CAACC,GAAG,EAAE;EAAE,IAAI,OAAOC,MAAM,KAAK,UAAU,IAAI,OAAOA,MAAM,CAACC,QAAQ,KAAK,QAAQ,EAAE;IAAEH,OAAO,GAAG,SAASA,OAAOA,CAACC,GAAG,EAAE;MAAE,OAAO,OAAOA,GAAG;IAAE,CAAC;EAAE,CAAC,MAAM;IAAED,OAAO,GAAG,SAASA,OAAOA,CAACC,GAAG,EAAE;MAAE,OAAOA,GAAG,IAAI,OAAOC,MAAM,KAAK,UAAU,IAAID,GAAG,CAACG,WAAW,KAAKF,MAAM,IAAID,GAAG,KAAKC,MAAM,CAACG,SAAS,GAAG,QAAQ,GAAG,OAAOJ,GAAG;IAAE,CAAC;EAAE;EAAE,OAAOD,OAAO,CAACC,GAAG,CAAC;AAAE;AAE9V,SAASK,KAAK,QAAQ,6BAA6B;AACnD,IAAIC,yBAAyB,GAAG,CAAC;AAEjC,SAASC,MAAMA,CAACC,IAAI,EAAEC,EAAE,EAAE;EACxB,OAAOC,KAAK,CAACD,EAAE,CAAC,CAACE,IAAI,CAACH,IAAI,CAAC,CAACI,IAAI,CAAC,EAAE,CAAC;AACtC,CAAC,CAAC;;AAGF,OAAO,SAASC,gBAAgBA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACzC,OAAOC,mBAAmB,CAACX,KAAK,CAACS,GAAG,CAAC,EAAEC,GAAG,CAAC;AAC7C;AACA,OAAO,SAASC,mBAAmBA,CAACC,MAAM,EAAEF,GAAG,EAAE;EAC/C,IAAIG,KAAK,GAAGH,GAAG,CAACG,KAAK;IACjBC,GAAG,GAAGJ,GAAG,CAACI,GAAG;EACjB,IAAIC,MAAM,GAAG,CAAC;EAEd,IAAIrB,OAAO,CAACoB,GAAG,CAAC,KAAK,QAAQ,EAAE;IAC7BC,MAAM,GAAGD,GAAG,CAACE,MAAM,GAAGH,KAAK,CAACG,MAAM,GAAG,CAAC;EACxC;EAEA,OAAOJ,MAAM,CAACK,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAEC,IAAI,EAAEC,OAAO,EAAE;IAC7D,IAAIC,IAAI,CAACC,GAAG,CAACV,KAAK,CAACO,IAAI,GAAGC,OAAO,CAAC,GAAGpB,yBAAyB,EAAE;MAC9DkB,GAAG,IAAIC,IAAI,GAAG,IAAI;IACpB,CAAC,CAAC;;IAGF,IAAIC,OAAO,KAAKR,KAAK,CAACO,IAAI,GAAG,CAAC,EAAE;MAC9BD,GAAG,IAAIjB,MAAM,CAAC,GAAG,EAAEW,KAAK,CAACG,MAAM,GAAG,CAAC,CAAC;MACpCG,GAAG,IAAIjB,MAAM,CAAC,GAAG,EAAEa,MAAM,CAAC;MAC1BI,GAAG,IAAI,IAAI;IACb;IAEA,OAAOA,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;AACR","ignoreList":[]},"metadata":{},"sourceType":"module"}