{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst HarmonyCompatibilityDependency = require(\"./HarmonyCompatibilityDependency\");\nconst HarmonyInitDependency = require(\"./HarmonyInitDependency\");\nconst HarmonyImportSpecifierDependency = require(\"./HarmonyImportSpecifierDependency\");\nconst HarmonyImportSideEffectDependency = require(\"./HarmonyImportSideEffectDependency\");\nconst HarmonyExportHeaderDependency = require(\"./HarmonyExportHeaderDependency\");\nconst HarmonyExportExpressionDependency = require(\"./HarmonyExportExpressionDependency\");\nconst HarmonyExportSpecifierDependency = require(\"./HarmonyExportSpecifierDependency\");\nconst HarmonyExportImportedSpecifierDependency = require(\"./HarmonyExportImportedSpecifierDependency\");\nconst HarmonyAcceptDependency = require(\"./HarmonyAcceptDependency\");\nconst HarmonyAcceptImportDependency = require(\"./HarmonyAcceptImportDependency\");\nconst NullFactory = require(\"../NullFactory\");\nconst HarmonyDetectionParserPlugin = require(\"./HarmonyDetectionParserPlugin\");\nconst HarmonyImportDependencyParserPlugin = require(\"./HarmonyImportDependencyParserPlugin\");\nconst HarmonyExportDependencyParserPlugin = require(\"./HarmonyExportDependencyParserPlugin\");\nconst HarmonyTopLevelThisParserPlugin = require(\"./HarmonyTopLevelThisParserPlugin\");\nclass HarmonyModulesPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"HarmonyModulesPlugin\", (compilation, {\n      normalModuleFactory\n    }) => {\n      compilation.dependencyFactories.set(HarmonyCompatibilityDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyCompatibilityDependency, new HarmonyCompatibilityDependency.Template());\n      compilation.dependencyFactories.set(HarmonyInitDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyInitDependency, new HarmonyInitDependency.Template());\n      compilation.dependencyFactories.set(HarmonyImportSideEffectDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(HarmonyImportSideEffectDependency, new HarmonyImportSideEffectDependency.Template());\n      compilation.dependencyFactories.set(HarmonyImportSpecifierDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(HarmonyImportSpecifierDependency, new HarmonyImportSpecifierDependency.Template());\n      compilation.dependencyFactories.set(HarmonyExportHeaderDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyExportHeaderDependency, new HarmonyExportHeaderDependency.Template());\n      compilation.dependencyFactories.set(HarmonyExportExpressionDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyExportExpressionDependency, new HarmonyExportExpressionDependency.Template());\n      compilation.dependencyFactories.set(HarmonyExportSpecifierDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyExportSpecifierDependency, new HarmonyExportSpecifierDependency.Template());\n      compilation.dependencyFactories.set(HarmonyExportImportedSpecifierDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(HarmonyExportImportedSpecifierDependency, new HarmonyExportImportedSpecifierDependency.Template());\n      compilation.dependencyFactories.set(HarmonyAcceptDependency, new NullFactory());\n      compilation.dependencyTemplates.set(HarmonyAcceptDependency, new HarmonyAcceptDependency.Template());\n      compilation.dependencyFactories.set(HarmonyAcceptImportDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(HarmonyAcceptImportDependency, new HarmonyAcceptImportDependency.Template());\n      const handler = (parser, parserOptions) => {\n        if (parserOptions.harmony !== undefined && !parserOptions.harmony) return;\n        new HarmonyDetectionParserPlugin().apply(parser);\n        new HarmonyImportDependencyParserPlugin(this.options).apply(parser);\n        new HarmonyExportDependencyParserPlugin(this.options).apply(parser);\n        new HarmonyTopLevelThisParserPlugin().apply(parser);\n      };\n      normalModuleFactory.hooks.parser.for(\"javascript/auto\").tap(\"HarmonyModulesPlugin\", handler);\n      normalModuleFactory.hooks.parser.for(\"javascript/esm\").tap(\"HarmonyModulesPlugin\", handler);\n    });\n  }\n}\nmodule.exports = HarmonyModulesPlugin;","map":{"version":3,"names":["HarmonyCompatibilityDependency","require","HarmonyInitDependency","HarmonyImportSpecifierDependency","HarmonyImportSideEffectDependency","HarmonyExportHeaderDependency","HarmonyExportExpressionDependency","HarmonyExportSpecifierDependency","HarmonyExportImportedSpecifierDependency","HarmonyAcceptDependency","HarmonyAcceptImportDependency","NullFactory","HarmonyDetectionParserPlugin","HarmonyImportDependencyParserPlugin","HarmonyExportDependencyParserPlugin","HarmonyTopLevelThisParserPlugin","HarmonyModulesPlugin","constructor","options","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencyTemplates","Template","handler","parser","parserOptions","harmony","undefined","for","module","exports"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/dependencies/HarmonyModulesPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\nconst HarmonyCompatibilityDependency = require(\"./HarmonyCompatibilityDependency\");\nconst HarmonyInitDependency = require(\"./HarmonyInitDependency\");\nconst HarmonyImportSpecifierDependency = require(\"./HarmonyImportSpecifierDependency\");\nconst HarmonyImportSideEffectDependency = require(\"./HarmonyImportSideEffectDependency\");\nconst HarmonyExportHeaderDependency = require(\"./HarmonyExportHeaderDependency\");\nconst HarmonyExportExpressionDependency = require(\"./HarmonyExportExpressionDependency\");\nconst HarmonyExportSpecifierDependency = require(\"./HarmonyExportSpecifierDependency\");\nconst HarmonyExportImportedSpecifierDependency = require(\"./HarmonyExportImportedSpecifierDependency\");\nconst HarmonyAcceptDependency = require(\"./HarmonyAcceptDependency\");\nconst HarmonyAcceptImportDependency = require(\"./HarmonyAcceptImportDependency\");\n\nconst NullFactory = require(\"../NullFactory\");\n\nconst HarmonyDetectionParserPlugin = require(\"./HarmonyDetectionParserPlugin\");\nconst HarmonyImportDependencyParserPlugin = require(\"./HarmonyImportDependencyParserPlugin\");\nconst HarmonyExportDependencyParserPlugin = require(\"./HarmonyExportDependencyParserPlugin\");\nconst HarmonyTopLevelThisParserPlugin = require(\"./HarmonyTopLevelThisParserPlugin\");\n\nclass HarmonyModulesPlugin {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"HarmonyModulesPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyCompatibilityDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyCompatibilityDependency,\n\t\t\t\t\tnew HarmonyCompatibilityDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyInitDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyInitDependency,\n\t\t\t\t\tnew HarmonyInitDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyImportSideEffectDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyImportSideEffectDependency,\n\t\t\t\t\tnew HarmonyImportSideEffectDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyImportSpecifierDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyImportSpecifierDependency,\n\t\t\t\t\tnew HarmonyImportSpecifierDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyExportHeaderDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyExportHeaderDependency,\n\t\t\t\t\tnew HarmonyExportHeaderDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyExportExpressionDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyExportExpressionDependency,\n\t\t\t\t\tnew HarmonyExportExpressionDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyExportSpecifierDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyExportSpecifierDependency,\n\t\t\t\t\tnew HarmonyExportSpecifierDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyExportImportedSpecifierDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyExportImportedSpecifierDependency,\n\t\t\t\t\tnew HarmonyExportImportedSpecifierDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyAcceptDependency,\n\t\t\t\t\tnew NullFactory()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyAcceptDependency,\n\t\t\t\t\tnew HarmonyAcceptDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tHarmonyAcceptImportDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tHarmonyAcceptImportDependency,\n\t\t\t\t\tnew HarmonyAcceptImportDependency.Template()\n\t\t\t\t);\n\n\t\t\t\tconst handler = (parser, parserOptions) => {\n\t\t\t\t\tif (parserOptions.harmony !== undefined && !parserOptions.harmony)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tnew HarmonyDetectionParserPlugin().apply(parser);\n\t\t\t\t\tnew HarmonyImportDependencyParserPlugin(this.options).apply(parser);\n\t\t\t\t\tnew HarmonyExportDependencyParserPlugin(this.options).apply(parser);\n\t\t\t\t\tnew HarmonyTopLevelThisParserPlugin().apply(parser);\n\t\t\t\t};\n\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"HarmonyModulesPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/esm\")\n\t\t\t\t\t.tap(\"HarmonyModulesPlugin\", handler);\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = HarmonyModulesPlugin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}