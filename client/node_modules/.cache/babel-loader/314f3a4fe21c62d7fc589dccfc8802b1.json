{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst OptionsApply = require(\"./OptionsApply\");\nconst JavascriptModulesPlugin = require(\"./JavascriptModulesPlugin\");\nconst JsonModulesPlugin = require(\"./JsonModulesPlugin\");\nconst WebAssemblyModulesPlugin = require(\"./wasm/WebAssemblyModulesPlugin\");\nconst LoaderTargetPlugin = require(\"./LoaderTargetPlugin\");\nconst FunctionModulePlugin = require(\"./FunctionModulePlugin\");\nconst EvalDevToolModulePlugin = require(\"./EvalDevToolModulePlugin\");\nconst SourceMapDevToolPlugin = require(\"./SourceMapDevToolPlugin\");\nconst EvalSourceMapDevToolPlugin = require(\"./EvalSourceMapDevToolPlugin\");\nconst EntryOptionPlugin = require(\"./EntryOptionPlugin\");\nconst RecordIdsPlugin = require(\"./RecordIdsPlugin\");\nconst APIPlugin = require(\"./APIPlugin\");\nconst ConstPlugin = require(\"./ConstPlugin\");\nconst CommonJsStuffPlugin = require(\"./CommonJsStuffPlugin\");\nconst CompatibilityPlugin = require(\"./CompatibilityPlugin\");\nconst TemplatedPathPlugin = require(\"./TemplatedPathPlugin\");\nconst WarnCaseSensitiveModulesPlugin = require(\"./WarnCaseSensitiveModulesPlugin\");\nconst UseStrictPlugin = require(\"./UseStrictPlugin\");\nconst LoaderPlugin = require(\"./dependencies/LoaderPlugin\");\nconst CommonJsPlugin = require(\"./dependencies/CommonJsPlugin\");\nconst HarmonyModulesPlugin = require(\"./dependencies/HarmonyModulesPlugin\");\nconst SystemPlugin = require(\"./dependencies/SystemPlugin\");\nconst ImportPlugin = require(\"./dependencies/ImportPlugin\");\nconst RequireContextPlugin = require(\"./dependencies/RequireContextPlugin\");\nconst RequireEnsurePlugin = require(\"./dependencies/RequireEnsurePlugin\");\nconst RequireIncludePlugin = require(\"./dependencies/RequireIncludePlugin\");\nconst {\n  cachedCleverMerge\n} = require(\"./util/cleverMerge\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptions} WebpackOptions */\n/** @typedef {import(\"./Compiler\")} Compiler */\n\nclass WebpackOptionsApply extends OptionsApply {\n  constructor() {\n    super();\n  }\n\n  /**\n   * @param {WebpackOptions} options options object\n   * @param {Compiler} compiler compiler object\n   * @returns {WebpackOptions} options object\n   */\n  process(options, compiler) {\n    let ExternalsPlugin;\n    compiler.outputPath = options.output.path;\n    compiler.recordsInputPath = options.recordsInputPath || options.recordsPath;\n    compiler.recordsOutputPath = options.recordsOutputPath || options.recordsPath;\n    compiler.name = options.name;\n    // TODO webpack 5 refactor this to MultiCompiler.setDependencies() with a WeakMap\n    // @ts-ignore TODO\n    compiler.dependencies = options.dependencies;\n    if (typeof options.target === \"string\") {\n      let JsonpTemplatePlugin;\n      let FetchCompileWasmTemplatePlugin;\n      let ReadFileCompileWasmTemplatePlugin;\n      let NodeSourcePlugin;\n      let NodeTargetPlugin;\n      let NodeTemplatePlugin;\n      switch (options.target) {\n        case \"web\":\n          JsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n          FetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n          NodeSourcePlugin = require(\"./node/NodeSourcePlugin\");\n          new JsonpTemplatePlugin().apply(compiler);\n          new FetchCompileWasmTemplatePlugin({\n            mangleImports: options.optimization.mangleWasmImports\n          }).apply(compiler);\n          new FunctionModulePlugin().apply(compiler);\n          new NodeSourcePlugin(options.node).apply(compiler);\n          new LoaderTargetPlugin(options.target).apply(compiler);\n          break;\n        case \"webworker\":\n          {\n            let WebWorkerTemplatePlugin = require(\"./webworker/WebWorkerTemplatePlugin\");\n            FetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n            NodeSourcePlugin = require(\"./node/NodeSourcePlugin\");\n            new WebWorkerTemplatePlugin().apply(compiler);\n            new FetchCompileWasmTemplatePlugin({\n              mangleImports: options.optimization.mangleWasmImports\n            }).apply(compiler);\n            new FunctionModulePlugin().apply(compiler);\n            new NodeSourcePlugin(options.node).apply(compiler);\n            new LoaderTargetPlugin(options.target).apply(compiler);\n            break;\n          }\n        case \"node\":\n        case \"async-node\":\n          NodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n          ReadFileCompileWasmTemplatePlugin = require(\"./node/ReadFileCompileWasmTemplatePlugin\");\n          NodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n          new NodeTemplatePlugin({\n            asyncChunkLoading: options.target === \"async-node\"\n          }).apply(compiler);\n          new ReadFileCompileWasmTemplatePlugin({\n            mangleImports: options.optimization.mangleWasmImports\n          }).apply(compiler);\n          new FunctionModulePlugin().apply(compiler);\n          new NodeTargetPlugin().apply(compiler);\n          new LoaderTargetPlugin(\"node\").apply(compiler);\n          break;\n        case \"node-webkit\":\n          JsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n          NodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n          ExternalsPlugin = require(\"./ExternalsPlugin\");\n          new JsonpTemplatePlugin().apply(compiler);\n          new FunctionModulePlugin().apply(compiler);\n          new NodeTargetPlugin().apply(compiler);\n          new ExternalsPlugin(\"commonjs\", \"nw.gui\").apply(compiler);\n          new LoaderTargetPlugin(options.target).apply(compiler);\n          break;\n        case \"electron-main\":\n          NodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n          NodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n          ExternalsPlugin = require(\"./ExternalsPlugin\");\n          new NodeTemplatePlugin({\n            asyncChunkLoading: true\n          }).apply(compiler);\n          new FunctionModulePlugin().apply(compiler);\n          new NodeTargetPlugin().apply(compiler);\n          new ExternalsPlugin(\"commonjs\", [\"app\", \"auto-updater\", \"browser-window\", \"clipboard\", \"content-tracing\", \"crash-reporter\", \"dialog\", \"electron\", \"global-shortcut\", \"ipc\", \"ipc-main\", \"menu\", \"menu-item\", \"native-image\", \"original-fs\", \"power-monitor\", \"power-save-blocker\", \"protocol\", \"screen\", \"session\", \"shell\", \"tray\", \"web-contents\"]).apply(compiler);\n          new LoaderTargetPlugin(options.target).apply(compiler);\n          break;\n        case \"electron-renderer\":\n        case \"electron-preload\":\n          FetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n          NodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n          ExternalsPlugin = require(\"./ExternalsPlugin\");\n          if (options.target === \"electron-renderer\") {\n            JsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n            new JsonpTemplatePlugin().apply(compiler);\n          } else if (options.target === \"electron-preload\") {\n            NodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n            new NodeTemplatePlugin({\n              asyncChunkLoading: true\n            }).apply(compiler);\n          }\n          new FetchCompileWasmTemplatePlugin({\n            mangleImports: options.optimization.mangleWasmImports\n          }).apply(compiler);\n          new FunctionModulePlugin().apply(compiler);\n          new NodeTargetPlugin().apply(compiler);\n          new ExternalsPlugin(\"commonjs\", [\"clipboard\", \"crash-reporter\", \"desktop-capturer\", \"electron\", \"ipc\", \"ipc-renderer\", \"native-image\", \"original-fs\", \"remote\", \"screen\", \"shell\", \"web-frame\"]).apply(compiler);\n          new LoaderTargetPlugin(options.target).apply(compiler);\n          break;\n        default:\n          throw new Error(\"Unsupported target '\" + options.target + \"'.\");\n      }\n    }\n    // @ts-ignore This is always true, which is good this way\n    else if (options.target !== false) {\n      options.target(compiler);\n    } else {\n      throw new Error(\"Unsupported target '\" + options.target + \"'.\");\n    }\n    if (options.output.library || options.output.libraryTarget !== \"var\") {\n      const LibraryTemplatePlugin = require(\"./LibraryTemplatePlugin\");\n      new LibraryTemplatePlugin(options.output.library, options.output.libraryTarget, options.output.umdNamedDefine, options.output.auxiliaryComment || \"\", options.output.libraryExport).apply(compiler);\n    }\n    if (options.externals) {\n      ExternalsPlugin = require(\"./ExternalsPlugin\");\n      new ExternalsPlugin(options.output.libraryTarget, options.externals).apply(compiler);\n    }\n    let noSources;\n    let legacy;\n    let modern;\n    let comment;\n    if (options.devtool && (options.devtool.includes(\"sourcemap\") || options.devtool.includes(\"source-map\"))) {\n      const hidden = options.devtool.includes(\"hidden\");\n      const inline = options.devtool.includes(\"inline\");\n      const evalWrapped = options.devtool.includes(\"eval\");\n      const cheap = options.devtool.includes(\"cheap\");\n      const moduleMaps = options.devtool.includes(\"module\");\n      noSources = options.devtool.includes(\"nosources\");\n      legacy = options.devtool.includes(\"@\");\n      modern = options.devtool.includes(\"#\");\n      comment = legacy && modern ? \"\\n/*\\n//@ source\" + \"MappingURL=[url]\\n//# source\" + \"MappingURL=[url]\\n*/\" : legacy ? \"\\n/*\\n//@ source\" + \"MappingURL=[url]\\n*/\" : modern ? \"\\n//# source\" + \"MappingURL=[url]\" : null;\n      const Plugin = evalWrapped ? EvalSourceMapDevToolPlugin : SourceMapDevToolPlugin;\n      new Plugin({\n        filename: inline ? null : options.output.sourceMapFilename,\n        moduleFilenameTemplate: options.output.devtoolModuleFilenameTemplate,\n        fallbackModuleFilenameTemplate: options.output.devtoolFallbackModuleFilenameTemplate,\n        append: hidden ? false : comment,\n        module: moduleMaps ? true : cheap ? false : true,\n        columns: cheap ? false : true,\n        lineToLine: options.output.devtoolLineToLine,\n        noSources: noSources,\n        namespace: options.output.devtoolNamespace\n      }).apply(compiler);\n    } else if (options.devtool && options.devtool.includes(\"eval\")) {\n      legacy = options.devtool.includes(\"@\");\n      modern = options.devtool.includes(\"#\");\n      comment = legacy && modern ? \"\\n//@ sourceURL=[url]\\n//# sourceURL=[url]\" : legacy ? \"\\n//@ sourceURL=[url]\" : modern ? \"\\n//# sourceURL=[url]\" : null;\n      new EvalDevToolModulePlugin({\n        sourceUrlComment: comment,\n        moduleFilenameTemplate: options.output.devtoolModuleFilenameTemplate,\n        namespace: options.output.devtoolNamespace\n      }).apply(compiler);\n    }\n    new JavascriptModulesPlugin().apply(compiler);\n    new JsonModulesPlugin().apply(compiler);\n    new WebAssemblyModulesPlugin({\n      mangleImports: options.optimization.mangleWasmImports\n    }).apply(compiler);\n    new EntryOptionPlugin().apply(compiler);\n    compiler.hooks.entryOption.call(options.context, options.entry);\n    new CompatibilityPlugin().apply(compiler);\n    new HarmonyModulesPlugin(options.module).apply(compiler);\n    if (options.amd !== false) {\n      const AMDPlugin = require(\"./dependencies/AMDPlugin\");\n      const RequireJsStuffPlugin = require(\"./RequireJsStuffPlugin\");\n      new AMDPlugin(options.module, options.amd || {}).apply(compiler);\n      new RequireJsStuffPlugin().apply(compiler);\n    }\n    new CommonJsPlugin(options.module).apply(compiler);\n    new LoaderPlugin().apply(compiler);\n    if (options.node !== false) {\n      const NodeStuffPlugin = require(\"./NodeStuffPlugin\");\n      new NodeStuffPlugin(options.node).apply(compiler);\n    }\n    new CommonJsStuffPlugin().apply(compiler);\n    new APIPlugin().apply(compiler);\n    new ConstPlugin().apply(compiler);\n    new UseStrictPlugin().apply(compiler);\n    new RequireIncludePlugin().apply(compiler);\n    new RequireEnsurePlugin().apply(compiler);\n    new RequireContextPlugin(options.resolve.modules, options.resolve.extensions, options.resolve.mainFiles).apply(compiler);\n    new ImportPlugin(options.module).apply(compiler);\n    new SystemPlugin(options.module).apply(compiler);\n    if (typeof options.mode !== \"string\") {\n      const WarnNoModeSetPlugin = require(\"./WarnNoModeSetPlugin\");\n      new WarnNoModeSetPlugin().apply(compiler);\n    }\n    const EnsureChunkConditionsPlugin = require(\"./optimize/EnsureChunkConditionsPlugin\");\n    new EnsureChunkConditionsPlugin().apply(compiler);\n    if (options.optimization.removeAvailableModules) {\n      const RemoveParentModulesPlugin = require(\"./optimize/RemoveParentModulesPlugin\");\n      new RemoveParentModulesPlugin().apply(compiler);\n    }\n    if (options.optimization.removeEmptyChunks) {\n      const RemoveEmptyChunksPlugin = require(\"./optimize/RemoveEmptyChunksPlugin\");\n      new RemoveEmptyChunksPlugin().apply(compiler);\n    }\n    if (options.optimization.mergeDuplicateChunks) {\n      const MergeDuplicateChunksPlugin = require(\"./optimize/MergeDuplicateChunksPlugin\");\n      new MergeDuplicateChunksPlugin().apply(compiler);\n    }\n    if (options.optimization.flagIncludedChunks) {\n      const FlagIncludedChunksPlugin = require(\"./optimize/FlagIncludedChunksPlugin\");\n      new FlagIncludedChunksPlugin().apply(compiler);\n    }\n    if (options.optimization.sideEffects) {\n      const SideEffectsFlagPlugin = require(\"./optimize/SideEffectsFlagPlugin\");\n      new SideEffectsFlagPlugin().apply(compiler);\n    }\n    if (options.optimization.providedExports) {\n      const FlagDependencyExportsPlugin = require(\"./FlagDependencyExportsPlugin\");\n      new FlagDependencyExportsPlugin().apply(compiler);\n    }\n    if (options.optimization.usedExports) {\n      const FlagDependencyUsagePlugin = require(\"./FlagDependencyUsagePlugin\");\n      new FlagDependencyUsagePlugin().apply(compiler);\n    }\n    if (options.optimization.concatenateModules) {\n      const ModuleConcatenationPlugin = require(\"./optimize/ModuleConcatenationPlugin\");\n      new ModuleConcatenationPlugin().apply(compiler);\n    }\n    if (options.optimization.splitChunks) {\n      const SplitChunksPlugin = require(\"./optimize/SplitChunksPlugin\");\n      new SplitChunksPlugin(options.optimization.splitChunks).apply(compiler);\n    }\n    if (options.optimization.runtimeChunk) {\n      const RuntimeChunkPlugin = require(\"./optimize/RuntimeChunkPlugin\");\n      new RuntimeChunkPlugin(options.optimization.runtimeChunk).apply(compiler);\n    }\n    if (options.optimization.noEmitOnErrors) {\n      const NoEmitOnErrorsPlugin = require(\"./NoEmitOnErrorsPlugin\");\n      new NoEmitOnErrorsPlugin().apply(compiler);\n    }\n    if (options.optimization.checkWasmTypes) {\n      const WasmFinalizeExportsPlugin = require(\"./wasm/WasmFinalizeExportsPlugin\");\n      new WasmFinalizeExportsPlugin().apply(compiler);\n    }\n    let moduleIds = options.optimization.moduleIds;\n    if (moduleIds === undefined) {\n      // TODO webpack 5 remove all these options\n      if (options.optimization.occurrenceOrder) {\n        moduleIds = \"size\";\n      }\n      if (options.optimization.namedModules) {\n        moduleIds = \"named\";\n      }\n      if (options.optimization.hashedModuleIds) {\n        moduleIds = \"hashed\";\n      }\n      if (moduleIds === undefined) {\n        moduleIds = \"natural\";\n      }\n    }\n    if (moduleIds) {\n      const NamedModulesPlugin = require(\"./NamedModulesPlugin\");\n      const HashedModuleIdsPlugin = require(\"./HashedModuleIdsPlugin\");\n      const OccurrenceModuleOrderPlugin = require(\"./optimize/OccurrenceModuleOrderPlugin\");\n      switch (moduleIds) {\n        case \"natural\":\n          // TODO webpack 5: see hint in Compilation.sortModules\n          break;\n        case \"named\":\n          new NamedModulesPlugin().apply(compiler);\n          break;\n        case \"hashed\":\n          new HashedModuleIdsPlugin().apply(compiler);\n          break;\n        case \"size\":\n          new OccurrenceModuleOrderPlugin({\n            prioritiseInitial: true\n          }).apply(compiler);\n          break;\n        case \"total-size\":\n          new OccurrenceModuleOrderPlugin({\n            prioritiseInitial: false\n          }).apply(compiler);\n          break;\n        default:\n          throw new Error(`webpack bug: moduleIds: ${moduleIds} is not implemented`);\n      }\n    }\n    let chunkIds = options.optimization.chunkIds;\n    if (chunkIds === undefined) {\n      // TODO webpack 5 remove all these options\n      if (options.optimization.occurrenceOrder) {\n        // This looks weird but it's for backward-compat\n        // This bug already existed before adding this feature\n        chunkIds = \"total-size\";\n      }\n      if (options.optimization.namedChunks) {\n        chunkIds = \"named\";\n      }\n      if (chunkIds === undefined) {\n        chunkIds = \"natural\";\n      }\n    }\n    if (chunkIds) {\n      const NaturalChunkOrderPlugin = require(\"./optimize/NaturalChunkOrderPlugin\");\n      const NamedChunksPlugin = require(\"./NamedChunksPlugin\");\n      const OccurrenceChunkOrderPlugin = require(\"./optimize/OccurrenceChunkOrderPlugin\");\n      switch (chunkIds) {\n        case \"natural\":\n          new NaturalChunkOrderPlugin().apply(compiler);\n          break;\n        case \"named\":\n          // TODO webapck 5: for backward-compat this need to have OccurrenceChunkOrderPlugin too\n          // The NamedChunksPlugin doesn't give every chunk a name\n          // This should be fixed, and the OccurrenceChunkOrderPlugin should be removed here.\n          new OccurrenceChunkOrderPlugin({\n            prioritiseInitial: false\n          }).apply(compiler);\n          new NamedChunksPlugin().apply(compiler);\n          break;\n        case \"size\":\n          new OccurrenceChunkOrderPlugin({\n            prioritiseInitial: true\n          }).apply(compiler);\n          break;\n        case \"total-size\":\n          new OccurrenceChunkOrderPlugin({\n            prioritiseInitial: false\n          }).apply(compiler);\n          break;\n        default:\n          throw new Error(`webpack bug: chunkIds: ${chunkIds} is not implemented`);\n      }\n    }\n    if (options.optimization.nodeEnv) {\n      const DefinePlugin = require(\"./DefinePlugin\");\n      new DefinePlugin({\n        \"process.env.NODE_ENV\": JSON.stringify(options.optimization.nodeEnv)\n      }).apply(compiler);\n    }\n    if (options.optimization.minimize) {\n      for (const minimizer of options.optimization.minimizer) {\n        if (typeof minimizer === \"function\") {\n          minimizer.call(compiler, compiler);\n        } else {\n          minimizer.apply(compiler);\n        }\n      }\n    }\n    if (options.performance) {\n      const SizeLimitsPlugin = require(\"./performance/SizeLimitsPlugin\");\n      new SizeLimitsPlugin(options.performance).apply(compiler);\n    }\n    new TemplatedPathPlugin().apply(compiler);\n    new RecordIdsPlugin({\n      portableIds: options.optimization.portableRecords\n    }).apply(compiler);\n    new WarnCaseSensitiveModulesPlugin().apply(compiler);\n    if (options.cache) {\n      const CachePlugin = require(\"./CachePlugin\");\n      new CachePlugin(typeof options.cache === \"object\" ? options.cache : null).apply(compiler);\n    }\n    compiler.hooks.afterPlugins.call(compiler);\n    if (!compiler.inputFileSystem) {\n      throw new Error(\"No input filesystem provided\");\n    }\n    compiler.resolverFactory.hooks.resolveOptions.for(\"normal\").tap(\"WebpackOptionsApply\", resolveOptions => {\n      return Object.assign({\n        fileSystem: compiler.inputFileSystem\n      }, cachedCleverMerge(options.resolve, resolveOptions));\n    });\n    compiler.resolverFactory.hooks.resolveOptions.for(\"context\").tap(\"WebpackOptionsApply\", resolveOptions => {\n      return Object.assign({\n        fileSystem: compiler.inputFileSystem,\n        resolveToContext: true\n      }, cachedCleverMerge(options.resolve, resolveOptions));\n    });\n    compiler.resolverFactory.hooks.resolveOptions.for(\"loader\").tap(\"WebpackOptionsApply\", resolveOptions => {\n      return Object.assign({\n        fileSystem: compiler.inputFileSystem\n      }, cachedCleverMerge(options.resolveLoader, resolveOptions));\n    });\n    compiler.hooks.afterResolvers.call(compiler);\n    return options;\n  }\n}\nmodule.exports = WebpackOptionsApply;","map":{"version":3,"names":["OptionsApply","require","JavascriptModulesPlugin","JsonModulesPlugin","WebAssemblyModulesPlugin","LoaderTargetPlugin","FunctionModulePlugin","EvalDevToolModulePlugin","SourceMapDevToolPlugin","EvalSourceMapDevToolPlugin","EntryOptionPlugin","RecordIdsPlugin","APIPlugin","ConstPlugin","CommonJsStuffPlugin","CompatibilityPlugin","TemplatedPathPlugin","WarnCaseSensitiveModulesPlugin","UseStrictPlugin","LoaderPlugin","CommonJsPlugin","HarmonyModulesPlugin","SystemPlugin","ImportPlugin","RequireContextPlugin","RequireEnsurePlugin","RequireIncludePlugin","cachedCleverMerge","WebpackOptionsApply","constructor","process","options","compiler","ExternalsPlugin","outputPath","output","path","recordsInputPath","recordsPath","recordsOutputPath","name","dependencies","target","JsonpTemplatePlugin","FetchCompileWasmTemplatePlugin","ReadFileCompileWasmTemplatePlugin","NodeSourcePlugin","NodeTargetPlugin","NodeTemplatePlugin","apply","mangleImports","optimization","mangleWasmImports","node","WebWorkerTemplatePlugin","asyncChunkLoading","Error","library","libraryTarget","LibraryTemplatePlugin","umdNamedDefine","auxiliaryComment","libraryExport","externals","noSources","legacy","modern","comment","devtool","includes","hidden","inline","evalWrapped","cheap","moduleMaps","Plugin","filename","sourceMapFilename","moduleFilenameTemplate","devtoolModuleFilenameTemplate","fallbackModuleFilenameTemplate","devtoolFallbackModuleFilenameTemplate","append","module","columns","lineToLine","devtoolLineToLine","namespace","devtoolNamespace","sourceUrlComment","hooks","entryOption","call","context","entry","amd","AMDPlugin","RequireJsStuffPlugin","NodeStuffPlugin","resolve","modules","extensions","mainFiles","mode","WarnNoModeSetPlugin","EnsureChunkConditionsPlugin","removeAvailableModules","RemoveParentModulesPlugin","removeEmptyChunks","RemoveEmptyChunksPlugin","mergeDuplicateChunks","MergeDuplicateChunksPlugin","flagIncludedChunks","FlagIncludedChunksPlugin","sideEffects","SideEffectsFlagPlugin","providedExports","FlagDependencyExportsPlugin","usedExports","FlagDependencyUsagePlugin","concatenateModules","ModuleConcatenationPlugin","splitChunks","SplitChunksPlugin","runtimeChunk","RuntimeChunkPlugin","noEmitOnErrors","NoEmitOnErrorsPlugin","checkWasmTypes","WasmFinalizeExportsPlugin","moduleIds","undefined","occurrenceOrder","namedModules","hashedModuleIds","NamedModulesPlugin","HashedModuleIdsPlugin","OccurrenceModuleOrderPlugin","prioritiseInitial","chunkIds","namedChunks","NaturalChunkOrderPlugin","NamedChunksPlugin","OccurrenceChunkOrderPlugin","nodeEnv","DefinePlugin","JSON","stringify","minimize","minimizer","performance","SizeLimitsPlugin","portableIds","portableRecords","cache","CachePlugin","afterPlugins","inputFileSystem","resolverFactory","resolveOptions","for","tap","Object","assign","fileSystem","resolveToContext","resolveLoader","afterResolvers","exports"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/WebpackOptionsApply.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst OptionsApply = require(\"./OptionsApply\");\n\nconst JavascriptModulesPlugin = require(\"./JavascriptModulesPlugin\");\nconst JsonModulesPlugin = require(\"./JsonModulesPlugin\");\nconst WebAssemblyModulesPlugin = require(\"./wasm/WebAssemblyModulesPlugin\");\n\nconst LoaderTargetPlugin = require(\"./LoaderTargetPlugin\");\nconst FunctionModulePlugin = require(\"./FunctionModulePlugin\");\nconst EvalDevToolModulePlugin = require(\"./EvalDevToolModulePlugin\");\nconst SourceMapDevToolPlugin = require(\"./SourceMapDevToolPlugin\");\nconst EvalSourceMapDevToolPlugin = require(\"./EvalSourceMapDevToolPlugin\");\n\nconst EntryOptionPlugin = require(\"./EntryOptionPlugin\");\nconst RecordIdsPlugin = require(\"./RecordIdsPlugin\");\n\nconst APIPlugin = require(\"./APIPlugin\");\nconst ConstPlugin = require(\"./ConstPlugin\");\nconst CommonJsStuffPlugin = require(\"./CommonJsStuffPlugin\");\nconst CompatibilityPlugin = require(\"./CompatibilityPlugin\");\n\nconst TemplatedPathPlugin = require(\"./TemplatedPathPlugin\");\nconst WarnCaseSensitiveModulesPlugin = require(\"./WarnCaseSensitiveModulesPlugin\");\nconst UseStrictPlugin = require(\"./UseStrictPlugin\");\n\nconst LoaderPlugin = require(\"./dependencies/LoaderPlugin\");\nconst CommonJsPlugin = require(\"./dependencies/CommonJsPlugin\");\nconst HarmonyModulesPlugin = require(\"./dependencies/HarmonyModulesPlugin\");\nconst SystemPlugin = require(\"./dependencies/SystemPlugin\");\nconst ImportPlugin = require(\"./dependencies/ImportPlugin\");\nconst RequireContextPlugin = require(\"./dependencies/RequireContextPlugin\");\nconst RequireEnsurePlugin = require(\"./dependencies/RequireEnsurePlugin\");\nconst RequireIncludePlugin = require(\"./dependencies/RequireIncludePlugin\");\n\nconst { cachedCleverMerge } = require(\"./util/cleverMerge\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").WebpackOptions} WebpackOptions */\n/** @typedef {import(\"./Compiler\")} Compiler */\n\nclass WebpackOptionsApply extends OptionsApply {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * @param {WebpackOptions} options options object\n\t * @param {Compiler} compiler compiler object\n\t * @returns {WebpackOptions} options object\n\t */\n\tprocess(options, compiler) {\n\t\tlet ExternalsPlugin;\n\t\tcompiler.outputPath = options.output.path;\n\t\tcompiler.recordsInputPath = options.recordsInputPath || options.recordsPath;\n\t\tcompiler.recordsOutputPath =\n\t\t\toptions.recordsOutputPath || options.recordsPath;\n\t\tcompiler.name = options.name;\n\t\t// TODO webpack 5 refactor this to MultiCompiler.setDependencies() with a WeakMap\n\t\t// @ts-ignore TODO\n\t\tcompiler.dependencies = options.dependencies;\n\t\tif (typeof options.target === \"string\") {\n\t\t\tlet JsonpTemplatePlugin;\n\t\t\tlet FetchCompileWasmTemplatePlugin;\n\t\t\tlet ReadFileCompileWasmTemplatePlugin;\n\t\t\tlet NodeSourcePlugin;\n\t\t\tlet NodeTargetPlugin;\n\t\t\tlet NodeTemplatePlugin;\n\n\t\t\tswitch (options.target) {\n\t\t\t\tcase \"web\":\n\t\t\t\t\tJsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n\t\t\t\t\tFetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n\t\t\t\t\tNodeSourcePlugin = require(\"./node/NodeSourcePlugin\");\n\t\t\t\t\tnew JsonpTemplatePlugin().apply(compiler);\n\t\t\t\t\tnew FetchCompileWasmTemplatePlugin({\n\t\t\t\t\t\tmangleImports: options.optimization.mangleWasmImports\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeSourcePlugin(options.node).apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(options.target).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"webworker\": {\n\t\t\t\t\tlet WebWorkerTemplatePlugin = require(\"./webworker/WebWorkerTemplatePlugin\");\n\t\t\t\t\tFetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n\t\t\t\t\tNodeSourcePlugin = require(\"./node/NodeSourcePlugin\");\n\t\t\t\t\tnew WebWorkerTemplatePlugin().apply(compiler);\n\t\t\t\t\tnew FetchCompileWasmTemplatePlugin({\n\t\t\t\t\t\tmangleImports: options.optimization.mangleWasmImports\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeSourcePlugin(options.node).apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(options.target).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"node\":\n\t\t\t\tcase \"async-node\":\n\t\t\t\t\tNodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n\t\t\t\t\tReadFileCompileWasmTemplatePlugin = require(\"./node/ReadFileCompileWasmTemplatePlugin\");\n\t\t\t\t\tNodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n\t\t\t\t\tnew NodeTemplatePlugin({\n\t\t\t\t\t\tasyncChunkLoading: options.target === \"async-node\"\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew ReadFileCompileWasmTemplatePlugin({\n\t\t\t\t\t\tmangleImports: options.optimization.mangleWasmImports\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeTargetPlugin().apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(\"node\").apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"node-webkit\":\n\t\t\t\t\tJsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n\t\t\t\t\tNodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n\t\t\t\t\tExternalsPlugin = require(\"./ExternalsPlugin\");\n\t\t\t\t\tnew JsonpTemplatePlugin().apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeTargetPlugin().apply(compiler);\n\t\t\t\t\tnew ExternalsPlugin(\"commonjs\", \"nw.gui\").apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(options.target).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"electron-main\":\n\t\t\t\t\tNodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n\t\t\t\t\tNodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n\t\t\t\t\tExternalsPlugin = require(\"./ExternalsPlugin\");\n\t\t\t\t\tnew NodeTemplatePlugin({\n\t\t\t\t\t\tasyncChunkLoading: true\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeTargetPlugin().apply(compiler);\n\t\t\t\t\tnew ExternalsPlugin(\"commonjs\", [\n\t\t\t\t\t\t\"app\",\n\t\t\t\t\t\t\"auto-updater\",\n\t\t\t\t\t\t\"browser-window\",\n\t\t\t\t\t\t\"clipboard\",\n\t\t\t\t\t\t\"content-tracing\",\n\t\t\t\t\t\t\"crash-reporter\",\n\t\t\t\t\t\t\"dialog\",\n\t\t\t\t\t\t\"electron\",\n\t\t\t\t\t\t\"global-shortcut\",\n\t\t\t\t\t\t\"ipc\",\n\t\t\t\t\t\t\"ipc-main\",\n\t\t\t\t\t\t\"menu\",\n\t\t\t\t\t\t\"menu-item\",\n\t\t\t\t\t\t\"native-image\",\n\t\t\t\t\t\t\"original-fs\",\n\t\t\t\t\t\t\"power-monitor\",\n\t\t\t\t\t\t\"power-save-blocker\",\n\t\t\t\t\t\t\"protocol\",\n\t\t\t\t\t\t\"screen\",\n\t\t\t\t\t\t\"session\",\n\t\t\t\t\t\t\"shell\",\n\t\t\t\t\t\t\"tray\",\n\t\t\t\t\t\t\"web-contents\"\n\t\t\t\t\t]).apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(options.target).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"electron-renderer\":\n\t\t\t\tcase \"electron-preload\":\n\t\t\t\t\tFetchCompileWasmTemplatePlugin = require(\"./web/FetchCompileWasmTemplatePlugin\");\n\t\t\t\t\tNodeTargetPlugin = require(\"./node/NodeTargetPlugin\");\n\t\t\t\t\tExternalsPlugin = require(\"./ExternalsPlugin\");\n\t\t\t\t\tif (options.target === \"electron-renderer\") {\n\t\t\t\t\t\tJsonpTemplatePlugin = require(\"./web/JsonpTemplatePlugin\");\n\t\t\t\t\t\tnew JsonpTemplatePlugin().apply(compiler);\n\t\t\t\t\t} else if (options.target === \"electron-preload\") {\n\t\t\t\t\t\tNodeTemplatePlugin = require(\"./node/NodeTemplatePlugin\");\n\t\t\t\t\t\tnew NodeTemplatePlugin({\n\t\t\t\t\t\t\tasyncChunkLoading: true\n\t\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\t}\n\t\t\t\t\tnew FetchCompileWasmTemplatePlugin({\n\t\t\t\t\t\tmangleImports: options.optimization.mangleWasmImports\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew FunctionModulePlugin().apply(compiler);\n\t\t\t\t\tnew NodeTargetPlugin().apply(compiler);\n\t\t\t\t\tnew ExternalsPlugin(\"commonjs\", [\n\t\t\t\t\t\t\"clipboard\",\n\t\t\t\t\t\t\"crash-reporter\",\n\t\t\t\t\t\t\"desktop-capturer\",\n\t\t\t\t\t\t\"electron\",\n\t\t\t\t\t\t\"ipc\",\n\t\t\t\t\t\t\"ipc-renderer\",\n\t\t\t\t\t\t\"native-image\",\n\t\t\t\t\t\t\"original-fs\",\n\t\t\t\t\t\t\"remote\",\n\t\t\t\t\t\t\"screen\",\n\t\t\t\t\t\t\"shell\",\n\t\t\t\t\t\t\"web-frame\"\n\t\t\t\t\t]).apply(compiler);\n\t\t\t\t\tnew LoaderTargetPlugin(options.target).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\"Unsupported target '\" + options.target + \"'.\");\n\t\t\t}\n\t\t}\n\t\t// @ts-ignore This is always true, which is good this way\n\t\telse if (options.target !== false) {\n\t\t\toptions.target(compiler);\n\t\t} else {\n\t\t\tthrow new Error(\"Unsupported target '\" + options.target + \"'.\");\n\t\t}\n\n\t\tif (options.output.library || options.output.libraryTarget !== \"var\") {\n\t\t\tconst LibraryTemplatePlugin = require(\"./LibraryTemplatePlugin\");\n\t\t\tnew LibraryTemplatePlugin(\n\t\t\t\toptions.output.library,\n\t\t\t\toptions.output.libraryTarget,\n\t\t\t\toptions.output.umdNamedDefine,\n\t\t\t\toptions.output.auxiliaryComment || \"\",\n\t\t\t\toptions.output.libraryExport\n\t\t\t).apply(compiler);\n\t\t}\n\t\tif (options.externals) {\n\t\t\tExternalsPlugin = require(\"./ExternalsPlugin\");\n\t\t\tnew ExternalsPlugin(\n\t\t\t\toptions.output.libraryTarget,\n\t\t\t\toptions.externals\n\t\t\t).apply(compiler);\n\t\t}\n\n\t\tlet noSources;\n\t\tlet legacy;\n\t\tlet modern;\n\t\tlet comment;\n\t\tif (\n\t\t\toptions.devtool &&\n\t\t\t(options.devtool.includes(\"sourcemap\") ||\n\t\t\t\toptions.devtool.includes(\"source-map\"))\n\t\t) {\n\t\t\tconst hidden = options.devtool.includes(\"hidden\");\n\t\t\tconst inline = options.devtool.includes(\"inline\");\n\t\t\tconst evalWrapped = options.devtool.includes(\"eval\");\n\t\t\tconst cheap = options.devtool.includes(\"cheap\");\n\t\t\tconst moduleMaps = options.devtool.includes(\"module\");\n\t\t\tnoSources = options.devtool.includes(\"nosources\");\n\t\t\tlegacy = options.devtool.includes(\"@\");\n\t\t\tmodern = options.devtool.includes(\"#\");\n\t\t\tcomment =\n\t\t\t\tlegacy && modern\n\t\t\t\t\t? \"\\n/*\\n//@ source\" +\n\t\t\t\t\t  \"MappingURL=[url]\\n//# source\" +\n\t\t\t\t\t  \"MappingURL=[url]\\n*/\"\n\t\t\t\t\t: legacy\n\t\t\t\t\t? \"\\n/*\\n//@ source\" + \"MappingURL=[url]\\n*/\"\n\t\t\t\t\t: modern\n\t\t\t\t\t? \"\\n//# source\" + \"MappingURL=[url]\"\n\t\t\t\t\t: null;\n\t\t\tconst Plugin = evalWrapped\n\t\t\t\t? EvalSourceMapDevToolPlugin\n\t\t\t\t: SourceMapDevToolPlugin;\n\t\t\tnew Plugin({\n\t\t\t\tfilename: inline ? null : options.output.sourceMapFilename,\n\t\t\t\tmoduleFilenameTemplate: options.output.devtoolModuleFilenameTemplate,\n\t\t\t\tfallbackModuleFilenameTemplate:\n\t\t\t\t\toptions.output.devtoolFallbackModuleFilenameTemplate,\n\t\t\t\tappend: hidden ? false : comment,\n\t\t\t\tmodule: moduleMaps ? true : cheap ? false : true,\n\t\t\t\tcolumns: cheap ? false : true,\n\t\t\t\tlineToLine: options.output.devtoolLineToLine,\n\t\t\t\tnoSources: noSources,\n\t\t\t\tnamespace: options.output.devtoolNamespace\n\t\t\t}).apply(compiler);\n\t\t} else if (options.devtool && options.devtool.includes(\"eval\")) {\n\t\t\tlegacy = options.devtool.includes(\"@\");\n\t\t\tmodern = options.devtool.includes(\"#\");\n\t\t\tcomment =\n\t\t\t\tlegacy && modern\n\t\t\t\t\t? \"\\n//@ sourceURL=[url]\\n//# sourceURL=[url]\"\n\t\t\t\t\t: legacy\n\t\t\t\t\t? \"\\n//@ sourceURL=[url]\"\n\t\t\t\t\t: modern\n\t\t\t\t\t? \"\\n//# sourceURL=[url]\"\n\t\t\t\t\t: null;\n\t\t\tnew EvalDevToolModulePlugin({\n\t\t\t\tsourceUrlComment: comment,\n\t\t\t\tmoduleFilenameTemplate: options.output.devtoolModuleFilenameTemplate,\n\t\t\t\tnamespace: options.output.devtoolNamespace\n\t\t\t}).apply(compiler);\n\t\t}\n\n\t\tnew JavascriptModulesPlugin().apply(compiler);\n\t\tnew JsonModulesPlugin().apply(compiler);\n\t\tnew WebAssemblyModulesPlugin({\n\t\t\tmangleImports: options.optimization.mangleWasmImports\n\t\t}).apply(compiler);\n\n\t\tnew EntryOptionPlugin().apply(compiler);\n\t\tcompiler.hooks.entryOption.call(options.context, options.entry);\n\n\t\tnew CompatibilityPlugin().apply(compiler);\n\t\tnew HarmonyModulesPlugin(options.module).apply(compiler);\n\t\tif (options.amd !== false) {\n\t\t\tconst AMDPlugin = require(\"./dependencies/AMDPlugin\");\n\t\t\tconst RequireJsStuffPlugin = require(\"./RequireJsStuffPlugin\");\n\t\t\tnew AMDPlugin(options.module, options.amd || {}).apply(compiler);\n\t\t\tnew RequireJsStuffPlugin().apply(compiler);\n\t\t}\n\t\tnew CommonJsPlugin(options.module).apply(compiler);\n\t\tnew LoaderPlugin().apply(compiler);\n\t\tif (options.node !== false) {\n\t\t\tconst NodeStuffPlugin = require(\"./NodeStuffPlugin\");\n\t\t\tnew NodeStuffPlugin(options.node).apply(compiler);\n\t\t}\n\t\tnew CommonJsStuffPlugin().apply(compiler);\n\t\tnew APIPlugin().apply(compiler);\n\t\tnew ConstPlugin().apply(compiler);\n\t\tnew UseStrictPlugin().apply(compiler);\n\t\tnew RequireIncludePlugin().apply(compiler);\n\t\tnew RequireEnsurePlugin().apply(compiler);\n\t\tnew RequireContextPlugin(\n\t\t\toptions.resolve.modules,\n\t\t\toptions.resolve.extensions,\n\t\t\toptions.resolve.mainFiles\n\t\t).apply(compiler);\n\t\tnew ImportPlugin(options.module).apply(compiler);\n\t\tnew SystemPlugin(options.module).apply(compiler);\n\n\t\tif (typeof options.mode !== \"string\") {\n\t\t\tconst WarnNoModeSetPlugin = require(\"./WarnNoModeSetPlugin\");\n\t\t\tnew WarnNoModeSetPlugin().apply(compiler);\n\t\t}\n\n\t\tconst EnsureChunkConditionsPlugin = require(\"./optimize/EnsureChunkConditionsPlugin\");\n\t\tnew EnsureChunkConditionsPlugin().apply(compiler);\n\t\tif (options.optimization.removeAvailableModules) {\n\t\t\tconst RemoveParentModulesPlugin = require(\"./optimize/RemoveParentModulesPlugin\");\n\t\t\tnew RemoveParentModulesPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.removeEmptyChunks) {\n\t\t\tconst RemoveEmptyChunksPlugin = require(\"./optimize/RemoveEmptyChunksPlugin\");\n\t\t\tnew RemoveEmptyChunksPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.mergeDuplicateChunks) {\n\t\t\tconst MergeDuplicateChunksPlugin = require(\"./optimize/MergeDuplicateChunksPlugin\");\n\t\t\tnew MergeDuplicateChunksPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.flagIncludedChunks) {\n\t\t\tconst FlagIncludedChunksPlugin = require(\"./optimize/FlagIncludedChunksPlugin\");\n\t\t\tnew FlagIncludedChunksPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.sideEffects) {\n\t\t\tconst SideEffectsFlagPlugin = require(\"./optimize/SideEffectsFlagPlugin\");\n\t\t\tnew SideEffectsFlagPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.providedExports) {\n\t\t\tconst FlagDependencyExportsPlugin = require(\"./FlagDependencyExportsPlugin\");\n\t\t\tnew FlagDependencyExportsPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.usedExports) {\n\t\t\tconst FlagDependencyUsagePlugin = require(\"./FlagDependencyUsagePlugin\");\n\t\t\tnew FlagDependencyUsagePlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.concatenateModules) {\n\t\t\tconst ModuleConcatenationPlugin = require(\"./optimize/ModuleConcatenationPlugin\");\n\t\t\tnew ModuleConcatenationPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.splitChunks) {\n\t\t\tconst SplitChunksPlugin = require(\"./optimize/SplitChunksPlugin\");\n\t\t\tnew SplitChunksPlugin(options.optimization.splitChunks).apply(compiler);\n\t\t}\n\t\tif (options.optimization.runtimeChunk) {\n\t\t\tconst RuntimeChunkPlugin = require(\"./optimize/RuntimeChunkPlugin\");\n\t\t\tnew RuntimeChunkPlugin(options.optimization.runtimeChunk).apply(compiler);\n\t\t}\n\t\tif (options.optimization.noEmitOnErrors) {\n\t\t\tconst NoEmitOnErrorsPlugin = require(\"./NoEmitOnErrorsPlugin\");\n\t\t\tnew NoEmitOnErrorsPlugin().apply(compiler);\n\t\t}\n\t\tif (options.optimization.checkWasmTypes) {\n\t\t\tconst WasmFinalizeExportsPlugin = require(\"./wasm/WasmFinalizeExportsPlugin\");\n\t\t\tnew WasmFinalizeExportsPlugin().apply(compiler);\n\t\t}\n\t\tlet moduleIds = options.optimization.moduleIds;\n\t\tif (moduleIds === undefined) {\n\t\t\t// TODO webpack 5 remove all these options\n\t\t\tif (options.optimization.occurrenceOrder) {\n\t\t\t\tmoduleIds = \"size\";\n\t\t\t}\n\t\t\tif (options.optimization.namedModules) {\n\t\t\t\tmoduleIds = \"named\";\n\t\t\t}\n\t\t\tif (options.optimization.hashedModuleIds) {\n\t\t\t\tmoduleIds = \"hashed\";\n\t\t\t}\n\t\t\tif (moduleIds === undefined) {\n\t\t\t\tmoduleIds = \"natural\";\n\t\t\t}\n\t\t}\n\t\tif (moduleIds) {\n\t\t\tconst NamedModulesPlugin = require(\"./NamedModulesPlugin\");\n\t\t\tconst HashedModuleIdsPlugin = require(\"./HashedModuleIdsPlugin\");\n\t\t\tconst OccurrenceModuleOrderPlugin = require(\"./optimize/OccurrenceModuleOrderPlugin\");\n\t\t\tswitch (moduleIds) {\n\t\t\t\tcase \"natural\":\n\t\t\t\t\t// TODO webpack 5: see hint in Compilation.sortModules\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"named\":\n\t\t\t\t\tnew NamedModulesPlugin().apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hashed\":\n\t\t\t\t\tnew HashedModuleIdsPlugin().apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"size\":\n\t\t\t\t\tnew OccurrenceModuleOrderPlugin({\n\t\t\t\t\t\tprioritiseInitial: true\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"total-size\":\n\t\t\t\t\tnew OccurrenceModuleOrderPlugin({\n\t\t\t\t\t\tprioritiseInitial: false\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`webpack bug: moduleIds: ${moduleIds} is not implemented`\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tlet chunkIds = options.optimization.chunkIds;\n\t\tif (chunkIds === undefined) {\n\t\t\t// TODO webpack 5 remove all these options\n\t\t\tif (options.optimization.occurrenceOrder) {\n\t\t\t\t// This looks weird but it's for backward-compat\n\t\t\t\t// This bug already existed before adding this feature\n\t\t\t\tchunkIds = \"total-size\";\n\t\t\t}\n\t\t\tif (options.optimization.namedChunks) {\n\t\t\t\tchunkIds = \"named\";\n\t\t\t}\n\t\t\tif (chunkIds === undefined) {\n\t\t\t\tchunkIds = \"natural\";\n\t\t\t}\n\t\t}\n\t\tif (chunkIds) {\n\t\t\tconst NaturalChunkOrderPlugin = require(\"./optimize/NaturalChunkOrderPlugin\");\n\t\t\tconst NamedChunksPlugin = require(\"./NamedChunksPlugin\");\n\t\t\tconst OccurrenceChunkOrderPlugin = require(\"./optimize/OccurrenceChunkOrderPlugin\");\n\t\t\tswitch (chunkIds) {\n\t\t\t\tcase \"natural\":\n\t\t\t\t\tnew NaturalChunkOrderPlugin().apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"named\":\n\t\t\t\t\t// TODO webapck 5: for backward-compat this need to have OccurrenceChunkOrderPlugin too\n\t\t\t\t\t// The NamedChunksPlugin doesn't give every chunk a name\n\t\t\t\t\t// This should be fixed, and the OccurrenceChunkOrderPlugin should be removed here.\n\t\t\t\t\tnew OccurrenceChunkOrderPlugin({\n\t\t\t\t\t\tprioritiseInitial: false\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tnew NamedChunksPlugin().apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"size\":\n\t\t\t\t\tnew OccurrenceChunkOrderPlugin({\n\t\t\t\t\t\tprioritiseInitial: true\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"total-size\":\n\t\t\t\t\tnew OccurrenceChunkOrderPlugin({\n\t\t\t\t\t\tprioritiseInitial: false\n\t\t\t\t\t}).apply(compiler);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`webpack bug: chunkIds: ${chunkIds} is not implemented`\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (options.optimization.nodeEnv) {\n\t\t\tconst DefinePlugin = require(\"./DefinePlugin\");\n\t\t\tnew DefinePlugin({\n\t\t\t\t\"process.env.NODE_ENV\": JSON.stringify(options.optimization.nodeEnv)\n\t\t\t}).apply(compiler);\n\t\t}\n\t\tif (options.optimization.minimize) {\n\t\t\tfor (const minimizer of options.optimization.minimizer) {\n\t\t\t\tif (typeof minimizer === \"function\") {\n\t\t\t\t\tminimizer.call(compiler, compiler);\n\t\t\t\t} else {\n\t\t\t\t\tminimizer.apply(compiler);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.performance) {\n\t\t\tconst SizeLimitsPlugin = require(\"./performance/SizeLimitsPlugin\");\n\t\t\tnew SizeLimitsPlugin(options.performance).apply(compiler);\n\t\t}\n\n\t\tnew TemplatedPathPlugin().apply(compiler);\n\n\t\tnew RecordIdsPlugin({\n\t\t\tportableIds: options.optimization.portableRecords\n\t\t}).apply(compiler);\n\n\t\tnew WarnCaseSensitiveModulesPlugin().apply(compiler);\n\n\t\tif (options.cache) {\n\t\t\tconst CachePlugin = require(\"./CachePlugin\");\n\t\t\tnew CachePlugin(\n\t\t\t\ttypeof options.cache === \"object\" ? options.cache : null\n\t\t\t).apply(compiler);\n\t\t}\n\n\t\tcompiler.hooks.afterPlugins.call(compiler);\n\t\tif (!compiler.inputFileSystem) {\n\t\t\tthrow new Error(\"No input filesystem provided\");\n\t\t}\n\t\tcompiler.resolverFactory.hooks.resolveOptions\n\t\t\t.for(\"normal\")\n\t\t\t.tap(\"WebpackOptionsApply\", resolveOptions => {\n\t\t\t\treturn Object.assign(\n\t\t\t\t\t{\n\t\t\t\t\t\tfileSystem: compiler.inputFileSystem\n\t\t\t\t\t},\n\t\t\t\t\tcachedCleverMerge(options.resolve, resolveOptions)\n\t\t\t\t);\n\t\t\t});\n\t\tcompiler.resolverFactory.hooks.resolveOptions\n\t\t\t.for(\"context\")\n\t\t\t.tap(\"WebpackOptionsApply\", resolveOptions => {\n\t\t\t\treturn Object.assign(\n\t\t\t\t\t{\n\t\t\t\t\t\tfileSystem: compiler.inputFileSystem,\n\t\t\t\t\t\tresolveToContext: true\n\t\t\t\t\t},\n\t\t\t\t\tcachedCleverMerge(options.resolve, resolveOptions)\n\t\t\t\t);\n\t\t\t});\n\t\tcompiler.resolverFactory.hooks.resolveOptions\n\t\t\t.for(\"loader\")\n\t\t\t.tap(\"WebpackOptionsApply\", resolveOptions => {\n\t\t\t\treturn Object.assign(\n\t\t\t\t\t{\n\t\t\t\t\t\tfileSystem: compiler.inputFileSystem\n\t\t\t\t\t},\n\t\t\t\t\tcachedCleverMerge(options.resolveLoader, resolveOptions)\n\t\t\t\t);\n\t\t\t});\n\t\tcompiler.hooks.afterResolvers.call(compiler);\n\t\treturn options;\n\t}\n}\n\nmodule.exports = WebpackOptionsApply;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}