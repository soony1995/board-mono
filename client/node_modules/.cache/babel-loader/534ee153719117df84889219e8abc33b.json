{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ParserHelpers = require(\"../ParserHelpers\");\nconst WebpackError = require(\"../WebpackError\");\nclass SystemPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"SystemPlugin\", (compilation, {\n      normalModuleFactory\n    }) => {\n      const handler = (parser, parserOptions) => {\n        if (parserOptions.system !== undefined && !parserOptions.system) return;\n        const shouldWarn = parserOptions.system === undefined;\n        const setNotSupported = name => {\n          parser.hooks.evaluateTypeof.for(name).tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"undefined\"));\n          parser.hooks.expression.for(name).tap(\"SystemPlugin\", ParserHelpers.expressionIsUnsupported(parser, name + \" is not supported by webpack.\"));\n        };\n        parser.hooks.typeof.for(\"System.import\").tap(\"SystemPlugin\", ParserHelpers.toConstantDependency(parser, JSON.stringify(\"function\")));\n        parser.hooks.evaluateTypeof.for(\"System.import\").tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"function\"));\n        parser.hooks.typeof.for(\"System\").tap(\"SystemPlugin\", ParserHelpers.toConstantDependency(parser, JSON.stringify(\"object\")));\n        parser.hooks.evaluateTypeof.for(\"System\").tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"object\"));\n        setNotSupported(\"System.set\");\n        setNotSupported(\"System.get\");\n        setNotSupported(\"System.register\");\n        parser.hooks.expression.for(\"System\").tap(\"SystemPlugin\", () => {\n          const systemPolyfillRequire = ParserHelpers.requireFileAsExpression(parser.state.module.context, require.resolve(\"../../buildin/system\"));\n          return ParserHelpers.addParsedVariableToModule(parser, \"System\", systemPolyfillRequire);\n        });\n        parser.hooks.call.for(\"System.import\").tap(\"SystemPlugin\", expr => {\n          if (shouldWarn) {\n            parser.state.module.warnings.push(new SystemImportDeprecationWarning(parser.state.module, expr.loc));\n          }\n          return parser.hooks.importCall.call(expr);\n        });\n      };\n      normalModuleFactory.hooks.parser.for(\"javascript/auto\").tap(\"SystemPlugin\", handler);\n      normalModuleFactory.hooks.parser.for(\"javascript/dynamic\").tap(\"SystemPlugin\", handler);\n    });\n  }\n}\nclass SystemImportDeprecationWarning extends WebpackError {\n  constructor(module, loc) {\n    super(\"System.import() is deprecated and will be removed soon. Use import() instead.\\n\" + \"For more info visit https://webpack.js.org/guides/code-splitting/\");\n    this.name = \"SystemImportDeprecationWarning\";\n    this.module = module;\n    this.loc = loc;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\nmodule.exports = SystemPlugin;","map":{"version":3,"names":["ParserHelpers","require","WebpackError","SystemPlugin","constructor","options","apply","compiler","hooks","compilation","tap","normalModuleFactory","handler","parser","parserOptions","system","undefined","shouldWarn","setNotSupported","name","evaluateTypeof","for","evaluateToString","expression","expressionIsUnsupported","typeof","toConstantDependency","JSON","stringify","systemPolyfillRequire","requireFileAsExpression","state","module","context","resolve","addParsedVariableToModule","call","expr","warnings","push","SystemImportDeprecationWarning","loc","importCall","Error","captureStackTrace","exports"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/dependencies/SystemPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ParserHelpers = require(\"../ParserHelpers\");\nconst WebpackError = require(\"../WebpackError\");\n\nclass SystemPlugin {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"SystemPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tconst handler = (parser, parserOptions) => {\n\t\t\t\t\tif (parserOptions.system !== undefined && !parserOptions.system)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tconst shouldWarn = parserOptions.system === undefined;\n\n\t\t\t\t\tconst setNotSupported = name => {\n\t\t\t\t\t\tparser.hooks.evaluateTypeof\n\t\t\t\t\t\t\t.for(name)\n\t\t\t\t\t\t\t.tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"undefined\"));\n\t\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t\t.for(name)\n\t\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\t\"SystemPlugin\",\n\t\t\t\t\t\t\t\tParserHelpers.expressionIsUnsupported(\n\t\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\t\tname + \" is not supported by webpack.\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\tparser.hooks.typeof\n\t\t\t\t\t\t.for(\"System.import\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"SystemPlugin\",\n\t\t\t\t\t\t\tParserHelpers.toConstantDependency(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\tJSON.stringify(\"function\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.evaluateTypeof\n\t\t\t\t\t\t.for(\"System.import\")\n\t\t\t\t\t\t.tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"function\"));\n\t\t\t\t\tparser.hooks.typeof\n\t\t\t\t\t\t.for(\"System\")\n\t\t\t\t\t\t.tap(\n\t\t\t\t\t\t\t\"SystemPlugin\",\n\t\t\t\t\t\t\tParserHelpers.toConstantDependency(\n\t\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\tJSON.stringify(\"object\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\tparser.hooks.evaluateTypeof\n\t\t\t\t\t\t.for(\"System\")\n\t\t\t\t\t\t.tap(\"SystemPlugin\", ParserHelpers.evaluateToString(\"object\"));\n\n\t\t\t\t\tsetNotSupported(\"System.set\");\n\t\t\t\t\tsetNotSupported(\"System.get\");\n\t\t\t\t\tsetNotSupported(\"System.register\");\n\n\t\t\t\t\tparser.hooks.expression.for(\"System\").tap(\"SystemPlugin\", () => {\n\t\t\t\t\t\tconst systemPolyfillRequire = ParserHelpers.requireFileAsExpression(\n\t\t\t\t\t\t\tparser.state.module.context,\n\t\t\t\t\t\t\trequire.resolve(\"../../buildin/system\")\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn ParserHelpers.addParsedVariableToModule(\n\t\t\t\t\t\t\tparser,\n\t\t\t\t\t\t\t\"System\",\n\t\t\t\t\t\t\tsystemPolyfillRequire\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.call.for(\"System.import\").tap(\"SystemPlugin\", expr => {\n\t\t\t\t\t\tif (shouldWarn) {\n\t\t\t\t\t\t\tparser.state.module.warnings.push(\n\t\t\t\t\t\t\t\tnew SystemImportDeprecationWarning(\n\t\t\t\t\t\t\t\t\tparser.state.module,\n\t\t\t\t\t\t\t\t\texpr.loc\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn parser.hooks.importCall.call(expr);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"SystemPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/dynamic\")\n\t\t\t\t\t.tap(\"SystemPlugin\", handler);\n\t\t\t}\n\t\t);\n\t}\n}\n\nclass SystemImportDeprecationWarning extends WebpackError {\n\tconstructor(module, loc) {\n\t\tsuper(\n\t\t\t\"System.import() is deprecated and will be removed soon. Use import() instead.\\n\" +\n\t\t\t\t\"For more info visit https://webpack.js.org/guides/code-splitting/\"\n\t\t);\n\n\t\tthis.name = \"SystemImportDeprecationWarning\";\n\n\t\tthis.module = module;\n\t\tthis.loc = loc;\n\n\t\tError.captureStackTrace(this, this.constructor);\n\t}\n}\n\nmodule.exports = SystemPlugin;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,MAAMA,aAAa,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AACjD,MAAMC,YAAY,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAE/C,MAAME,YAAY,CAAC;EAClBC,WAAWA,CAACC,OAAO,EAAE;IACpB,IAAI,CAACA,OAAO,GAAGA,OAAO;EACvB;EAEAC,KAAKA,CAACC,QAAQ,EAAE;IACfA,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAC7B,cAAc,EACd,CAACD,WAAW,EAAE;MAAEE;IAAoB,CAAC,KAAK;MACzC,MAAMC,OAAO,GAAGA,CAACC,MAAM,EAAEC,aAAa,KAAK;QAC1C,IAAIA,aAAa,CAACC,MAAM,KAAKC,SAAS,IAAI,CAACF,aAAa,CAACC,MAAM,EAC9D;QAED,MAAME,UAAU,GAAGH,aAAa,CAACC,MAAM,KAAKC,SAAS;QAErD,MAAME,eAAe,GAAGC,IAAI,IAAI;UAC/BN,MAAM,CAACL,KAAK,CAACY,cAAc,CACzBC,GAAG,CAACF,IAAI,CAAC,CACTT,GAAG,CAAC,cAAc,EAAEV,aAAa,CAACsB,gBAAgB,CAAC,WAAW,CAAC,CAAC;UAClET,MAAM,CAACL,KAAK,CAACe,UAAU,CACrBF,GAAG,CAACF,IAAI,CAAC,CACTT,GAAG,CACH,cAAc,EACdV,aAAa,CAACwB,uBAAuB,CACpCX,MAAM,EACNM,IAAI,GAAG,+BACR,CACD,CAAC;QACH,CAAC;QAEDN,MAAM,CAACL,KAAK,CAACiB,MAAM,CACjBJ,GAAG,CAAC,eAAe,CAAC,CACpBX,GAAG,CACH,cAAc,EACdV,aAAa,CAAC0B,oBAAoB,CACjCb,MAAM,EACNc,IAAI,CAACC,SAAS,CAAC,UAAU,CAC1B,CACD,CAAC;QACFf,MAAM,CAACL,KAAK,CAACY,cAAc,CACzBC,GAAG,CAAC,eAAe,CAAC,CACpBX,GAAG,CAAC,cAAc,EAAEV,aAAa,CAACsB,gBAAgB,CAAC,UAAU,CAAC,CAAC;QACjET,MAAM,CAACL,KAAK,CAACiB,MAAM,CACjBJ,GAAG,CAAC,QAAQ,CAAC,CACbX,GAAG,CACH,cAAc,EACdV,aAAa,CAAC0B,oBAAoB,CACjCb,MAAM,EACNc,IAAI,CAACC,SAAS,CAAC,QAAQ,CACxB,CACD,CAAC;QACFf,MAAM,CAACL,KAAK,CAACY,cAAc,CACzBC,GAAG,CAAC,QAAQ,CAAC,CACbX,GAAG,CAAC,cAAc,EAAEV,aAAa,CAACsB,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAE/DJ,eAAe,CAAC,YAAY,CAAC;QAC7BA,eAAe,CAAC,YAAY,CAAC;QAC7BA,eAAe,CAAC,iBAAiB,CAAC;QAElCL,MAAM,CAACL,KAAK,CAACe,UAAU,CAACF,GAAG,CAAC,QAAQ,CAAC,CAACX,GAAG,CAAC,cAAc,EAAE,MAAM;UAC/D,MAAMmB,qBAAqB,GAAG7B,aAAa,CAAC8B,uBAAuB,CAClEjB,MAAM,CAACkB,KAAK,CAACC,MAAM,CAACC,OAAO,EAC3BhC,OAAO,CAACiC,OAAO,CAAC,sBAAsB,CACvC,CAAC;UACD,OAAOlC,aAAa,CAACmC,yBAAyB,CAC7CtB,MAAM,EACN,QAAQ,EACRgB,qBACD,CAAC;QACF,CAAC,CAAC;QAEFhB,MAAM,CAACL,KAAK,CAAC4B,IAAI,CAACf,GAAG,CAAC,eAAe,CAAC,CAACX,GAAG,CAAC,cAAc,EAAE2B,IAAI,IAAI;UAClE,IAAIpB,UAAU,EAAE;YACfJ,MAAM,CAACkB,KAAK,CAACC,MAAM,CAACM,QAAQ,CAACC,IAAI,CAChC,IAAIC,8BAA8B,CACjC3B,MAAM,CAACkB,KAAK,CAACC,MAAM,EACnBK,IAAI,CAACI,GACN,CACD,CAAC;UACF;UAEA,OAAO5B,MAAM,CAACL,KAAK,CAACkC,UAAU,CAACN,IAAI,CAACC,IAAI,CAAC;QAC1C,CAAC,CAAC;MACH,CAAC;MAED1B,mBAAmB,CAACH,KAAK,CAACK,MAAM,CAC9BQ,GAAG,CAAC,iBAAiB,CAAC,CACtBX,GAAG,CAAC,cAAc,EAAEE,OAAO,CAAC;MAC9BD,mBAAmB,CAACH,KAAK,CAACK,MAAM,CAC9BQ,GAAG,CAAC,oBAAoB,CAAC,CACzBX,GAAG,CAAC,cAAc,EAAEE,OAAO,CAAC;IAC/B,CACD,CAAC;EACF;AACD;AAEA,MAAM4B,8BAA8B,SAAStC,YAAY,CAAC;EACzDE,WAAWA,CAAC4B,MAAM,EAAES,GAAG,EAAE;IACxB,KAAK,CACJ,iFAAiF,GAChF,mEACF,CAAC;IAED,IAAI,CAACtB,IAAI,GAAG,gCAAgC;IAE5C,IAAI,CAACa,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACS,GAAG,GAAGA,GAAG;IAEdE,KAAK,CAACC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACxC,WAAW,CAAC;EAChD;AACD;AAEA4B,MAAM,CAACa,OAAO,GAAG1C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script"}