{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst WasmMainTemplatePlugin = require(\"../wasm/WasmMainTemplatePlugin\");\nclass FetchCompileWasmTemplatePlugin {\n  constructor(options) {\n    this.options = options || {};\n  }\n  apply(compiler) {\n    compiler.hooks.thisCompilation.tap(\"FetchCompileWasmTemplatePlugin\", compilation => {\n      const mainTemplate = compilation.mainTemplate;\n      const generateLoadBinaryCode = path => `fetch(${mainTemplate.requireFn}.p + ${path})`;\n      const plugin = new WasmMainTemplatePlugin(Object.assign({\n        generateLoadBinaryCode,\n        supportsStreaming: true\n      }, this.options));\n      plugin.apply(mainTemplate);\n    });\n  }\n}\nmodule.exports = FetchCompileWasmTemplatePlugin;","map":{"version":3,"names":["WasmMainTemplatePlugin","require","FetchCompileWasmTemplatePlugin","constructor","options","apply","compiler","hooks","thisCompilation","tap","compilation","mainTemplate","generateLoadBinaryCode","path","requireFn","plugin","Object","assign","supportsStreaming","module","exports"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/web/FetchCompileWasmTemplatePlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst WasmMainTemplatePlugin = require(\"../wasm/WasmMainTemplatePlugin\");\n\nclass FetchCompileWasmTemplatePlugin {\n\tconstructor(options) {\n\t\tthis.options = options || {};\n\t}\n\n\tapply(compiler) {\n\t\tcompiler.hooks.thisCompilation.tap(\n\t\t\t\"FetchCompileWasmTemplatePlugin\",\n\t\t\tcompilation => {\n\t\t\t\tconst mainTemplate = compilation.mainTemplate;\n\t\t\t\tconst generateLoadBinaryCode = path =>\n\t\t\t\t\t`fetch(${mainTemplate.requireFn}.p + ${path})`;\n\n\t\t\t\tconst plugin = new WasmMainTemplatePlugin(\n\t\t\t\t\tObject.assign(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgenerateLoadBinaryCode,\n\t\t\t\t\t\t\tsupportsStreaming: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.options\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tplugin.apply(mainTemplate);\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = FetchCompileWasmTemplatePlugin;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,MAAMA,sBAAsB,GAAGC,OAAO,CAAC,gCAAgC,CAAC;AAExE,MAAMC,8BAA8B,CAAC;EACpCC,WAAWA,CAACC,OAAO,EAAE;IACpB,IAAI,CAACA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EAC7B;EAEAC,KAAKA,CAACC,QAAQ,EAAE;IACfA,QAAQ,CAACC,KAAK,CAACC,eAAe,CAACC,GAAG,CACjC,gCAAgC,EAChCC,WAAW,IAAI;MACd,MAAMC,YAAY,GAAGD,WAAW,CAACC,YAAY;MAC7C,MAAMC,sBAAsB,GAAGC,IAAI,IAClC,SAASF,YAAY,CAACG,SAAS,QAAQD,IAAI,GAAG;MAE/C,MAAME,MAAM,GAAG,IAAIf,sBAAsB,CACxCgB,MAAM,CAACC,MAAM,CACZ;QACCL,sBAAsB;QACtBM,iBAAiB,EAAE;MACpB,CAAC,EACD,IAAI,CAACd,OACN,CACD,CAAC;MACDW,MAAM,CAACV,KAAK,CAACM,YAAY,CAAC;IAC3B,CACD,CAAC;EACF;AACD;AAEAQ,MAAM,CAACC,OAAO,GAAGlB,8BAA8B","ignoreList":[]},"metadata":{},"sourceType":"script"}