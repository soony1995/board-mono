{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nmodule.exports = function forEachBail(array, iterator, callback) {\n  if (array.length === 0) return callback();\n  let currentPos = array.length;\n  let currentResult;\n  let done = [];\n  for (let i = 0; i < array.length; i++) {\n    const itCb = createIteratorCallback(i);\n    iterator(array[i], itCb);\n    if (currentPos === 0) break;\n  }\n  function createIteratorCallback(i) {\n    return (...args) => {\n      if (i >= currentPos) return; // ignore\n      done.push(i);\n      if (args.length > 0) {\n        currentPos = i + 1;\n        done = done.filter(item => {\n          return item <= i;\n        });\n        currentResult = args;\n      }\n      if (done.length === currentPos) {\n        callback.apply(null, currentResult);\n        currentPos = 0;\n      }\n    };\n  }\n};\nmodule.exports.withIndex = function forEachBailWithIndex(array, iterator, callback) {\n  if (array.length === 0) return callback();\n  let currentPos = array.length;\n  let currentResult;\n  let done = [];\n  for (let i = 0; i < array.length; i++) {\n    const itCb = createIteratorCallback(i);\n    iterator(array[i], i, itCb);\n    if (currentPos === 0) break;\n  }\n  function createIteratorCallback(i) {\n    return (...args) => {\n      if (i >= currentPos) return; // ignore\n      done.push(i);\n      if (args.length > 0) {\n        currentPos = i + 1;\n        done = done.filter(item => {\n          return item <= i;\n        });\n        currentResult = args;\n      }\n      if (done.length === currentPos) {\n        callback.apply(null, currentResult);\n        currentPos = 0;\n      }\n    };\n  }\n};","map":{"version":3,"names":["module","exports","forEachBail","array","iterator","callback","length","currentPos","currentResult","done","i","itCb","createIteratorCallback","args","push","filter","item","apply","withIndex","forEachBailWithIndex"],"sources":["/home/soon/bulletin-board/node_modules/enhanced-resolve/lib/forEachBail.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nmodule.exports = function forEachBail(array, iterator, callback) {\n\tif (array.length === 0) return callback();\n\tlet currentPos = array.length;\n\tlet currentResult;\n\tlet done = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tconst itCb = createIteratorCallback(i);\n\t\titerator(array[i], itCb);\n\t\tif (currentPos === 0) break;\n\t}\n\n\tfunction createIteratorCallback(i) {\n\t\treturn (...args) => {\n\t\t\tif (i >= currentPos) return; // ignore\n\t\t\tdone.push(i);\n\t\t\tif (args.length > 0) {\n\t\t\t\tcurrentPos = i + 1;\n\t\t\t\tdone = done.filter(item => {\n\t\t\t\t\treturn item <= i;\n\t\t\t\t});\n\t\t\t\tcurrentResult = args;\n\t\t\t}\n\t\t\tif (done.length === currentPos) {\n\t\t\t\tcallback.apply(null, currentResult);\n\t\t\t\tcurrentPos = 0;\n\t\t\t}\n\t\t};\n\t}\n};\n\nmodule.exports.withIndex = function forEachBailWithIndex(\n\tarray,\n\titerator,\n\tcallback\n) {\n\tif (array.length === 0) return callback();\n\tlet currentPos = array.length;\n\tlet currentResult;\n\tlet done = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tconst itCb = createIteratorCallback(i);\n\t\titerator(array[i], i, itCb);\n\t\tif (currentPos === 0) break;\n\t}\n\n\tfunction createIteratorCallback(i) {\n\t\treturn (...args) => {\n\t\t\tif (i >= currentPos) return; // ignore\n\t\t\tdone.push(i);\n\t\t\tif (args.length > 0) {\n\t\t\t\tcurrentPos = i + 1;\n\t\t\t\tdone = done.filter(item => {\n\t\t\t\t\treturn item <= i;\n\t\t\t\t});\n\t\t\t\tcurrentResult = args;\n\t\t\t}\n\t\t\tif (done.length === currentPos) {\n\t\t\t\tcallback.apply(null, currentResult);\n\t\t\t\tcurrentPos = 0;\n\t\t\t}\n\t\t};\n\t}\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAG,SAASC,WAAWA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAChE,IAAIF,KAAK,CAACG,MAAM,KAAK,CAAC,EAAE,OAAOD,QAAQ,CAAC,CAAC;EACzC,IAAIE,UAAU,GAAGJ,KAAK,CAACG,MAAM;EAC7B,IAAIE,aAAa;EACjB,IAAIC,IAAI,GAAG,EAAE;EACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,KAAK,CAACG,MAAM,EAAEI,CAAC,EAAE,EAAE;IACtC,MAAMC,IAAI,GAAGC,sBAAsB,CAACF,CAAC,CAAC;IACtCN,QAAQ,CAACD,KAAK,CAACO,CAAC,CAAC,EAAEC,IAAI,CAAC;IACxB,IAAIJ,UAAU,KAAK,CAAC,EAAE;EACvB;EAEA,SAASK,sBAAsBA,CAACF,CAAC,EAAE;IAClC,OAAO,CAAC,GAAGG,IAAI,KAAK;MACnB,IAAIH,CAAC,IAAIH,UAAU,EAAE,OAAO,CAAC;MAC7BE,IAAI,CAACK,IAAI,CAACJ,CAAC,CAAC;MACZ,IAAIG,IAAI,CAACP,MAAM,GAAG,CAAC,EAAE;QACpBC,UAAU,GAAGG,CAAC,GAAG,CAAC;QAClBD,IAAI,GAAGA,IAAI,CAACM,MAAM,CAACC,IAAI,IAAI;UAC1B,OAAOA,IAAI,IAAIN,CAAC;QACjB,CAAC,CAAC;QACFF,aAAa,GAAGK,IAAI;MACrB;MACA,IAAIJ,IAAI,CAACH,MAAM,KAAKC,UAAU,EAAE;QAC/BF,QAAQ,CAACY,KAAK,CAAC,IAAI,EAAET,aAAa,CAAC;QACnCD,UAAU,GAAG,CAAC;MACf;IACD,CAAC;EACF;AACD,CAAC;AAEDP,MAAM,CAACC,OAAO,CAACiB,SAAS,GAAG,SAASC,oBAAoBA,CACvDhB,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACP;EACD,IAAIF,KAAK,CAACG,MAAM,KAAK,CAAC,EAAE,OAAOD,QAAQ,CAAC,CAAC;EACzC,IAAIE,UAAU,GAAGJ,KAAK,CAACG,MAAM;EAC7B,IAAIE,aAAa;EACjB,IAAIC,IAAI,GAAG,EAAE;EACb,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,KAAK,CAACG,MAAM,EAAEI,CAAC,EAAE,EAAE;IACtC,MAAMC,IAAI,GAAGC,sBAAsB,CAACF,CAAC,CAAC;IACtCN,QAAQ,CAACD,KAAK,CAACO,CAAC,CAAC,EAAEA,CAAC,EAAEC,IAAI,CAAC;IAC3B,IAAIJ,UAAU,KAAK,CAAC,EAAE;EACvB;EAEA,SAASK,sBAAsBA,CAACF,CAAC,EAAE;IAClC,OAAO,CAAC,GAAGG,IAAI,KAAK;MACnB,IAAIH,CAAC,IAAIH,UAAU,EAAE,OAAO,CAAC;MAC7BE,IAAI,CAACK,IAAI,CAACJ,CAAC,CAAC;MACZ,IAAIG,IAAI,CAACP,MAAM,GAAG,CAAC,EAAE;QACpBC,UAAU,GAAGG,CAAC,GAAG,CAAC;QAClBD,IAAI,GAAGA,IAAI,CAACM,MAAM,CAACC,IAAI,IAAI;UAC1B,OAAOA,IAAI,IAAIN,CAAC;QACjB,CAAC,CAAC;QACFF,aAAa,GAAGK,IAAI;MACrB;MACA,IAAIJ,IAAI,CAACH,MAAM,KAAKC,UAAU,EAAE;QAC/BF,QAAQ,CAACY,KAAK,CAAC,IAAI,EAAET,aAAa,CAAC;QACnCD,UAAU,GAAG,CAAC;MACf;IACD,CAAC;EACF;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script"}