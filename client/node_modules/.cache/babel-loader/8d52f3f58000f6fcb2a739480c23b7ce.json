{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst base64VLQ = require(\"./base64-vlq\");\nconst SourceNode = require(\"./SourceNode\");\nconst CodeNode = require(\"./CodeNode\");\nconst SourceListMap = require(\"./SourceListMap\");\nmodule.exports = function fromStringWithSourceMap(code, map) {\n  const sources = map.sources;\n  const sourcesContent = map.sourcesContent;\n  const mappings = map.mappings.split(\";\");\n  const lines = code.split(\"\\n\");\n  const nodes = [];\n  let currentNode = null;\n  let currentLine = 1;\n  let currentSourceIdx = 0;\n  let currentSourceNodeLine;\n  function addCode(generatedCode) {\n    if (currentNode && currentNode instanceof CodeNode) {\n      currentNode.addGeneratedCode(generatedCode);\n    } else if (currentNode && currentNode instanceof SourceNode && !generatedCode.trim()) {\n      currentNode.addGeneratedCode(generatedCode);\n      currentSourceNodeLine++;\n    } else {\n      currentNode = new CodeNode(generatedCode);\n      nodes.push(currentNode);\n    }\n  }\n  function addSource(generatedCode, source, originalSource, linePosition) {\n    if (currentNode && currentNode instanceof SourceNode && currentNode.source === source && currentSourceNodeLine === linePosition) {\n      currentNode.addGeneratedCode(generatedCode);\n      currentSourceNodeLine++;\n    } else {\n      currentNode = new SourceNode(generatedCode, source, originalSource, linePosition);\n      currentSourceNodeLine = linePosition + 1;\n      nodes.push(currentNode);\n    }\n  }\n  mappings.forEach(function (mapping, idx) {\n    let line = lines[idx];\n    if (typeof line === 'undefined') return;\n    if (idx !== lines.length - 1) line += \"\\n\";\n    if (!mapping) return addCode(line);\n    mapping = {\n      value: 0,\n      rest: mapping\n    };\n    let lineAdded = false;\n    while (mapping.rest) lineAdded = processMapping(mapping, line, lineAdded) || lineAdded;\n    if (!lineAdded) addCode(line);\n  });\n  if (mappings.length < lines.length) {\n    let idx = mappings.length;\n    while (!lines[idx].trim() && idx < lines.length - 1) {\n      addCode(lines[idx] + \"\\n\");\n      idx++;\n    }\n    addCode(lines.slice(idx).join(\"\\n\"));\n  }\n  return new SourceListMap(nodes);\n  function processMapping(mapping, line, ignore) {\n    if (mapping.rest && mapping.rest[0] !== \",\") {\n      base64VLQ.decode(mapping.rest, mapping);\n    }\n    if (!mapping.rest) return false;\n    if (mapping.rest[0] === \",\") {\n      mapping.rest = mapping.rest.substr(1);\n      return false;\n    }\n    base64VLQ.decode(mapping.rest, mapping);\n    const sourceIdx = mapping.value + currentSourceIdx;\n    currentSourceIdx = sourceIdx;\n    let linePosition;\n    if (mapping.rest && mapping.rest[0] !== \",\") {\n      base64VLQ.decode(mapping.rest, mapping);\n      linePosition = mapping.value + currentLine;\n      currentLine = linePosition;\n    } else {\n      linePosition = currentLine;\n    }\n    if (mapping.rest) {\n      const next = mapping.rest.indexOf(\",\");\n      mapping.rest = next === -1 ? \"\" : mapping.rest.substr(next);\n    }\n    if (!ignore) {\n      addSource(line, sources ? sources[sourceIdx] : null, sourcesContent ? sourcesContent[sourceIdx] : null, linePosition);\n      return true;\n    }\n  }\n};","map":{"version":3,"names":["base64VLQ","require","SourceNode","CodeNode","SourceListMap","module","exports","fromStringWithSourceMap","code","map","sources","sourcesContent","mappings","split","lines","nodes","currentNode","currentLine","currentSourceIdx","currentSourceNodeLine","addCode","generatedCode","addGeneratedCode","trim","push","addSource","source","originalSource","linePosition","forEach","mapping","idx","line","length","value","rest","lineAdded","processMapping","slice","join","ignore","decode","substr","sourceIdx","next","indexOf"],"sources":["/home/soon/bulletin-board/node_modules/source-list-map/lib/fromStringWithSourceMap.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst base64VLQ = require(\"./base64-vlq\");\nconst SourceNode = require(\"./SourceNode\");\nconst CodeNode = require(\"./CodeNode\");\nconst SourceListMap = require(\"./SourceListMap\");\n\nmodule.exports = function fromStringWithSourceMap(code, map) {\n\tconst sources = map.sources;\n\tconst sourcesContent = map.sourcesContent;\n\tconst mappings = map.mappings.split(\";\");\n\tconst lines = code.split(\"\\n\");\n\tconst nodes = [];\n\tlet currentNode = null;\n\tlet currentLine = 1;\n\tlet currentSourceIdx = 0;\n\tlet currentSourceNodeLine;\n\tfunction addCode(generatedCode) {\n\t\tif(currentNode && currentNode instanceof CodeNode) {\n\t\t\tcurrentNode.addGeneratedCode(generatedCode);\n\t\t} else if(currentNode && currentNode instanceof SourceNode && !generatedCode.trim()) {\n\t\t\tcurrentNode.addGeneratedCode(generatedCode);\n\t\t\tcurrentSourceNodeLine++;\n\t\t} else {\n\t\t\tcurrentNode = new CodeNode(generatedCode);\n\t\t\tnodes.push(currentNode);\n\t\t}\n\t}\n\tfunction addSource(generatedCode, source, originalSource, linePosition) {\n\t\tif(currentNode && currentNode instanceof SourceNode &&\n\t\t\tcurrentNode.source === source &&\n\t\t\tcurrentSourceNodeLine === linePosition\n\t\t) {\n\t\t\tcurrentNode.addGeneratedCode(generatedCode);\n\t\t\tcurrentSourceNodeLine++;\n\t\t} else {\n\t\t\tcurrentNode = new SourceNode(generatedCode, source, originalSource, linePosition);\n\t\t\tcurrentSourceNodeLine = linePosition + 1;\n\t\t\tnodes.push(currentNode);\n\t\t}\n\t}\n\tmappings.forEach(function(mapping, idx) {\n\t\tlet line = lines[idx];\n\t\tif(typeof line === 'undefined') return;\n\t\tif(idx !== lines.length - 1) line += \"\\n\";\n\t\tif(!mapping)\n\t\t\treturn addCode(line);\n\t\tmapping = { value: 0, rest: mapping };\n\t\tlet lineAdded = false;\n\t\twhile(mapping.rest)\n\t\t\tlineAdded = processMapping(mapping, line, lineAdded) || lineAdded;\n\t\tif(!lineAdded)\n\t\t\taddCode(line);\n\t});\n\tif(mappings.length < lines.length) {\n\t\tlet idx = mappings.length;\n\t\twhile(!lines[idx].trim() && idx < lines.length-1) {\n\t\t\taddCode(lines[idx] + \"\\n\");\n\t\t\tidx++;\n\t\t}\n\t\taddCode(lines.slice(idx).join(\"\\n\"));\n\t}\n\treturn new SourceListMap(nodes);\n\tfunction processMapping(mapping, line, ignore) {\n\t\tif(mapping.rest && mapping.rest[0] !== \",\") {\n\t\t\tbase64VLQ.decode(mapping.rest, mapping);\n\t\t}\n\t\tif(!mapping.rest)\n\t\t\treturn false;\n\t\tif(mapping.rest[0] === \",\") {\n\t\t\tmapping.rest = mapping.rest.substr(1);\n\t\t\treturn false;\n\t\t}\n\n\t\tbase64VLQ.decode(mapping.rest, mapping);\n\t\tconst sourceIdx = mapping.value + currentSourceIdx;\n\t\tcurrentSourceIdx = sourceIdx;\n\n\t\tlet linePosition;\n\t\tif(mapping.rest && mapping.rest[0] !== \",\") {\n\t\t\tbase64VLQ.decode(mapping.rest, mapping);\n\t\t\tlinePosition = mapping.value + currentLine;\n\t\t\tcurrentLine = linePosition;\n\t\t} else {\n\t\t\tlinePosition = currentLine;\n\t\t}\n\n\t\tif(mapping.rest) {\n\t\t\tconst next = mapping.rest.indexOf(\",\");\n\t\t\tmapping.rest = next === -1 ? \"\" : mapping.rest.substr(next);\n\t\t}\n\n\t\tif(!ignore) {\n\t\t\taddSource(line, sources ? sources[sourceIdx] : null, sourcesContent ? sourcesContent[sourceIdx] : null, linePosition)\n\t\t\treturn true;\n\t\t}\n\t}\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}