{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  ConcatSource\n} = require(\"webpack-sources\");\nconst Template = require(\"./Template\");\nclass FunctionModuleTemplatePlugin {\n  apply(moduleTemplate) {\n    moduleTemplate.hooks.render.tap(\"FunctionModuleTemplatePlugin\", (moduleSource, module) => {\n      const source = new ConcatSource();\n      const args = [module.moduleArgument];\n      // TODO remove HACK checking type for javascript\n      if (module.type && module.type.startsWith(\"javascript\")) {\n        args.push(module.exportsArgument);\n        if (module.hasDependencies(d => d.requireWebpackRequire !== false)) {\n          args.push(\"__webpack_require__\");\n        }\n      } else if (module.type && module.type.startsWith(\"json\")) {\n        // no additional arguments needed\n      } else {\n        args.push(module.exportsArgument, \"__webpack_require__\");\n      }\n      source.add(\"/***/ (function(\" + args.join(\", \") + \") {\\n\\n\");\n      if (module.buildInfo.strict) source.add('\"use strict\";\\n');\n      source.add(moduleSource);\n      source.add(\"\\n\\n/***/ })\");\n      return source;\n    });\n    moduleTemplate.hooks.package.tap(\"FunctionModuleTemplatePlugin\", (moduleSource, module) => {\n      if (moduleTemplate.runtimeTemplate.outputOptions.pathinfo) {\n        const source = new ConcatSource();\n        const req = module.readableIdentifier(moduleTemplate.runtimeTemplate.requestShortener);\n        const reqStr = req.replace(/\\*\\//g, \"*_/\");\n        const reqStrStar = \"*\".repeat(reqStr.length);\n        source.add(\"/*!****\" + reqStrStar + \"****!*\\\\\\n\");\n        source.add(\"  !*** \" + reqStr + \" ***!\\n\");\n        source.add(\"  \\\\****\" + reqStrStar + \"****/\\n\");\n        if (Array.isArray(module.buildMeta.providedExports) && module.buildMeta.providedExports.length === 0) {\n          source.add(Template.toComment(\"no exports provided\") + \"\\n\");\n        } else if (Array.isArray(module.buildMeta.providedExports)) {\n          source.add(Template.toComment(\"exports provided: \" + module.buildMeta.providedExports.join(\", \")) + \"\\n\");\n        } else if (module.buildMeta.providedExports) {\n          source.add(Template.toComment(\"no static exports found\") + \"\\n\");\n        }\n        if (Array.isArray(module.usedExports) && module.usedExports.length === 0) {\n          source.add(Template.toComment(\"no exports used\") + \"\\n\");\n        } else if (Array.isArray(module.usedExports)) {\n          source.add(Template.toComment(\"exports used: \" + module.usedExports.join(\", \")) + \"\\n\");\n        } else if (module.usedExports) {\n          source.add(Template.toComment(\"all exports used\") + \"\\n\");\n        }\n        if (module.optimizationBailout) {\n          for (const text of module.optimizationBailout) {\n            let code;\n            if (typeof text === \"function\") {\n              code = text(moduleTemplate.runtimeTemplate.requestShortener);\n            } else {\n              code = text;\n            }\n            source.add(Template.toComment(`${code}`) + \"\\n\");\n          }\n        }\n        source.add(moduleSource);\n        return source;\n      }\n      return moduleSource;\n    });\n    moduleTemplate.hooks.hash.tap(\"FunctionModuleTemplatePlugin\", hash => {\n      hash.update(\"FunctionModuleTemplatePlugin\");\n      hash.update(\"2\");\n    });\n  }\n}\nmodule.exports = FunctionModuleTemplatePlugin;","map":{"version":3,"names":["ConcatSource","require","Template","FunctionModuleTemplatePlugin","apply","moduleTemplate","hooks","render","tap","moduleSource","module","source","args","moduleArgument","type","startsWith","push","exportsArgument","hasDependencies","d","requireWebpackRequire","add","join","buildInfo","strict","package","runtimeTemplate","outputOptions","pathinfo","req","readableIdentifier","requestShortener","reqStr","replace","reqStrStar","repeat","length","Array","isArray","buildMeta","providedExports","toComment","usedExports","optimizationBailout","text","code","hash","update","exports"],"sources":["/home/soon/bulletin-board/node_modules/webpack/lib/FunctionModuleTemplatePlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst { ConcatSource } = require(\"webpack-sources\");\nconst Template = require(\"./Template\");\n\nclass FunctionModuleTemplatePlugin {\n\tapply(moduleTemplate) {\n\t\tmoduleTemplate.hooks.render.tap(\n\t\t\t\"FunctionModuleTemplatePlugin\",\n\t\t\t(moduleSource, module) => {\n\t\t\t\tconst source = new ConcatSource();\n\t\t\t\tconst args = [module.moduleArgument];\n\t\t\t\t// TODO remove HACK checking type for javascript\n\t\t\t\tif (module.type && module.type.startsWith(\"javascript\")) {\n\t\t\t\t\targs.push(module.exportsArgument);\n\t\t\t\t\tif (module.hasDependencies(d => d.requireWebpackRequire !== false)) {\n\t\t\t\t\t\targs.push(\"__webpack_require__\");\n\t\t\t\t\t}\n\t\t\t\t} else if (module.type && module.type.startsWith(\"json\")) {\n\t\t\t\t\t// no additional arguments needed\n\t\t\t\t} else {\n\t\t\t\t\targs.push(module.exportsArgument, \"__webpack_require__\");\n\t\t\t\t}\n\t\t\t\tsource.add(\"/***/ (function(\" + args.join(\", \") + \") {\\n\\n\");\n\t\t\t\tif (module.buildInfo.strict) source.add('\"use strict\";\\n');\n\t\t\t\tsource.add(moduleSource);\n\t\t\t\tsource.add(\"\\n\\n/***/ })\");\n\t\t\t\treturn source;\n\t\t\t}\n\t\t);\n\n\t\tmoduleTemplate.hooks.package.tap(\n\t\t\t\"FunctionModuleTemplatePlugin\",\n\t\t\t(moduleSource, module) => {\n\t\t\t\tif (moduleTemplate.runtimeTemplate.outputOptions.pathinfo) {\n\t\t\t\t\tconst source = new ConcatSource();\n\t\t\t\t\tconst req = module.readableIdentifier(\n\t\t\t\t\t\tmoduleTemplate.runtimeTemplate.requestShortener\n\t\t\t\t\t);\n\t\t\t\t\tconst reqStr = req.replace(/\\*\\//g, \"*_/\");\n\t\t\t\t\tconst reqStrStar = \"*\".repeat(reqStr.length);\n\t\t\t\t\tsource.add(\"/*!****\" + reqStrStar + \"****!*\\\\\\n\");\n\t\t\t\t\tsource.add(\"  !*** \" + reqStr + \" ***!\\n\");\n\t\t\t\t\tsource.add(\"  \\\\****\" + reqStrStar + \"****/\\n\");\n\t\t\t\t\tif (\n\t\t\t\t\t\tArray.isArray(module.buildMeta.providedExports) &&\n\t\t\t\t\t\tmodule.buildMeta.providedExports.length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tsource.add(Template.toComment(\"no exports provided\") + \"\\n\");\n\t\t\t\t\t} else if (Array.isArray(module.buildMeta.providedExports)) {\n\t\t\t\t\t\tsource.add(\n\t\t\t\t\t\t\tTemplate.toComment(\n\t\t\t\t\t\t\t\t\"exports provided: \" +\n\t\t\t\t\t\t\t\t\tmodule.buildMeta.providedExports.join(\", \")\n\t\t\t\t\t\t\t) + \"\\n\"\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (module.buildMeta.providedExports) {\n\t\t\t\t\t\tsource.add(Template.toComment(\"no static exports found\") + \"\\n\");\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tArray.isArray(module.usedExports) &&\n\t\t\t\t\t\tmodule.usedExports.length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tsource.add(Template.toComment(\"no exports used\") + \"\\n\");\n\t\t\t\t\t} else if (Array.isArray(module.usedExports)) {\n\t\t\t\t\t\tsource.add(\n\t\t\t\t\t\t\tTemplate.toComment(\n\t\t\t\t\t\t\t\t\"exports used: \" + module.usedExports.join(\", \")\n\t\t\t\t\t\t\t) + \"\\n\"\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (module.usedExports) {\n\t\t\t\t\t\tsource.add(Template.toComment(\"all exports used\") + \"\\n\");\n\t\t\t\t\t}\n\t\t\t\t\tif (module.optimizationBailout) {\n\t\t\t\t\t\tfor (const text of module.optimizationBailout) {\n\t\t\t\t\t\t\tlet code;\n\t\t\t\t\t\t\tif (typeof text === \"function\") {\n\t\t\t\t\t\t\t\tcode = text(moduleTemplate.runtimeTemplate.requestShortener);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcode = text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource.add(Template.toComment(`${code}`) + \"\\n\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsource.add(moduleSource);\n\t\t\t\t\treturn source;\n\t\t\t\t}\n\t\t\t\treturn moduleSource;\n\t\t\t}\n\t\t);\n\n\t\tmoduleTemplate.hooks.hash.tap(\"FunctionModuleTemplatePlugin\", hash => {\n\t\t\thash.update(\"FunctionModuleTemplatePlugin\");\n\t\t\thash.update(\"2\");\n\t\t});\n\t}\n}\nmodule.exports = FunctionModuleTemplatePlugin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}