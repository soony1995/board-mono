{"ast":null,"code":"var fs = require('fs');\nvar path = require('path');\nvar util = require('util');\nfunction Y18N(opts) {\n  // configurable options.\n  opts = opts || {};\n  this.directory = opts.directory || './locales';\n  this.updateFiles = typeof opts.updateFiles === 'boolean' ? opts.updateFiles : true;\n  this.locale = opts.locale || 'en';\n  this.fallbackToLanguage = typeof opts.fallbackToLanguage === 'boolean' ? opts.fallbackToLanguage : true;\n\n  // internal stuff.\n  this.cache = Object.create(null);\n  this.writeQueue = [];\n}\nY18N.prototype.__ = function () {\n  if (typeof arguments[0] !== 'string') {\n    return this._taggedLiteral.apply(this, arguments);\n  }\n  var args = Array.prototype.slice.call(arguments);\n  var str = args.shift();\n  var cb = function () {}; // start with noop.\n\n  if (typeof args[args.length - 1] === 'function') cb = args.pop();\n  cb = cb || function () {}; // noop.\n\n  if (!this.cache[this.locale]) this._readLocaleFile();\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][str] && this.updateFiles) {\n    this.cache[this.locale][str] = str;\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb]);\n  } else {\n    cb();\n  }\n  return util.format.apply(util, [this.cache[this.locale][str] || str].concat(args));\n};\nY18N.prototype._taggedLiteral = function (parts) {\n  var args = arguments;\n  var str = '';\n  parts.forEach(function (part, i) {\n    var arg = args[i + 1];\n    str += part;\n    if (typeof arg !== 'undefined') {\n      str += '%s';\n    }\n  });\n  return this.__.apply(null, [str].concat([].slice.call(arguments, 1)));\n};\nY18N.prototype._enqueueWrite = function (work) {\n  this.writeQueue.push(work);\n  if (this.writeQueue.length === 1) this._processWriteQueue();\n};\nY18N.prototype._processWriteQueue = function () {\n  var _this = this;\n  var work = this.writeQueue[0];\n\n  // destructure the enqueued work.\n  var directory = work[0];\n  var locale = work[1];\n  var cb = work[2];\n  var languageFile = this._resolveLocaleFile(directory, locale);\n  var serializedLocale = JSON.stringify(this.cache[locale], null, 2);\n  fs.writeFile(languageFile, serializedLocale, 'utf-8', function (err) {\n    _this.writeQueue.shift();\n    if (_this.writeQueue.length > 0) _this._processWriteQueue();\n    cb(err);\n  });\n};\nY18N.prototype._readLocaleFile = function () {\n  var localeLookup = {};\n  var languageFile = this._resolveLocaleFile(this.directory, this.locale);\n  try {\n    localeLookup = JSON.parse(fs.readFileSync(languageFile, 'utf-8'));\n  } catch (err) {\n    if (err instanceof SyntaxError) {\n      err.message = 'syntax error in ' + languageFile;\n    }\n    if (err.code === 'ENOENT') localeLookup = {};else throw err;\n  }\n  this.cache[this.locale] = localeLookup;\n};\nY18N.prototype._resolveLocaleFile = function (directory, locale) {\n  var file = path.resolve(directory, './', locale + '.json');\n  if (this.fallbackToLanguage && !this._fileExistsSync(file) && ~locale.lastIndexOf('_')) {\n    // attempt fallback to language only\n    var languageFile = path.resolve(directory, './', locale.split('_')[0] + '.json');\n    if (this._fileExistsSync(languageFile)) file = languageFile;\n  }\n  return file;\n};\n\n// this only exists because fs.existsSync() \"will be deprecated\"\n// see https://nodejs.org/api/fs.html#fs_fs_existssync_path\nY18N.prototype._fileExistsSync = function (file) {\n  try {\n    return fs.statSync(file).isFile();\n  } catch (err) {\n    return false;\n  }\n};\nY18N.prototype.__n = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var singular = args.shift();\n  var plural = args.shift();\n  var quantity = args.shift();\n  var cb = function () {}; // start with noop.\n  if (typeof args[args.length - 1] === 'function') cb = args.pop();\n  if (!this.cache[this.locale]) this._readLocaleFile();\n  var str = quantity === 1 ? singular : plural;\n  if (this.cache[this.locale][singular]) {\n    str = this.cache[this.locale][singular][quantity === 1 ? 'one' : 'other'];\n  }\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][singular] && this.updateFiles) {\n    this.cache[this.locale][singular] = {\n      one: singular,\n      other: plural\n    };\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb]);\n  } else {\n    cb();\n  }\n\n  // if a %d placeholder is provided, add quantity\n  // to the arguments expanded by util.format.\n  var values = [str];\n  if (~str.indexOf('%d')) values.push(quantity);\n  return util.format.apply(util, values.concat(args));\n};\nY18N.prototype.setLocale = function (locale) {\n  this.locale = locale;\n};\nY18N.prototype.getLocale = function () {\n  return this.locale;\n};\nY18N.prototype.updateLocale = function (obj) {\n  if (!this.cache[this.locale]) this._readLocaleFile();\n  for (var key in obj) {\n    this.cache[this.locale][key] = obj[key];\n  }\n};\nmodule.exports = function (opts) {\n  var y18n = new Y18N(opts);\n\n  // bind all functions to y18n, so that\n  // they can be used in isolation.\n  for (var key in y18n) {\n    if (typeof y18n[key] === 'function') {\n      y18n[key] = y18n[key].bind(y18n);\n    }\n  }\n  return y18n;\n};","map":{"version":3,"names":["fs","require","path","util","Y18N","opts","directory","updateFiles","locale","fallbackToLanguage","cache","Object","create","writeQueue","prototype","__","arguments","_taggedLiteral","apply","args","Array","slice","call","str","shift","cb","length","pop","_readLocaleFile","_enqueueWrite","format","concat","parts","forEach","part","i","arg","work","push","_processWriteQueue","_this","languageFile","_resolveLocaleFile","serializedLocale","JSON","stringify","writeFile","err","localeLookup","parse","readFileSync","SyntaxError","message","code","file","resolve","_fileExistsSync","lastIndexOf","split","statSync","isFile","__n","singular","plural","quantity","one","other","values","indexOf","setLocale","getLocale","updateLocale","obj","key","module","exports","y18n","bind"],"sources":["/home/soon/bulletin-board/node_modules/y18n/index.js"],"sourcesContent":["var fs = require('fs')\nvar path = require('path')\nvar util = require('util')\n\nfunction Y18N (opts) {\n  // configurable options.\n  opts = opts || {}\n  this.directory = opts.directory || './locales'\n  this.updateFiles = typeof opts.updateFiles === 'boolean' ? opts.updateFiles : true\n  this.locale = opts.locale || 'en'\n  this.fallbackToLanguage = typeof opts.fallbackToLanguage === 'boolean' ? opts.fallbackToLanguage : true\n\n  // internal stuff.\n  this.cache = Object.create(null)\n  this.writeQueue = []\n}\n\nY18N.prototype.__ = function () {\n  if (typeof arguments[0] !== 'string') {\n    return this._taggedLiteral.apply(this, arguments)\n  }\n  var args = Array.prototype.slice.call(arguments)\n  var str = args.shift()\n  var cb = function () {} // start with noop.\n\n  if (typeof args[args.length - 1] === 'function') cb = args.pop()\n  cb = cb || function () {} // noop.\n\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][str] && this.updateFiles) {\n    this.cache[this.locale][str] = str\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb])\n  } else {\n    cb()\n  }\n\n  return util.format.apply(util, [this.cache[this.locale][str] || str].concat(args))\n}\n\nY18N.prototype._taggedLiteral = function (parts) {\n  var args = arguments\n  var str = ''\n  parts.forEach(function (part, i) {\n    var arg = args[i + 1]\n    str += part\n    if (typeof arg !== 'undefined') {\n      str += '%s'\n    }\n  })\n  return this.__.apply(null, [str].concat([].slice.call(arguments, 1)))\n}\n\nY18N.prototype._enqueueWrite = function (work) {\n  this.writeQueue.push(work)\n  if (this.writeQueue.length === 1) this._processWriteQueue()\n}\n\nY18N.prototype._processWriteQueue = function () {\n  var _this = this\n  var work = this.writeQueue[0]\n\n  // destructure the enqueued work.\n  var directory = work[0]\n  var locale = work[1]\n  var cb = work[2]\n\n  var languageFile = this._resolveLocaleFile(directory, locale)\n  var serializedLocale = JSON.stringify(this.cache[locale], null, 2)\n\n  fs.writeFile(languageFile, serializedLocale, 'utf-8', function (err) {\n    _this.writeQueue.shift()\n    if (_this.writeQueue.length > 0) _this._processWriteQueue()\n    cb(err)\n  })\n}\n\nY18N.prototype._readLocaleFile = function () {\n  var localeLookup = {}\n  var languageFile = this._resolveLocaleFile(this.directory, this.locale)\n\n  try {\n    localeLookup = JSON.parse(fs.readFileSync(languageFile, 'utf-8'))\n  } catch (err) {\n    if (err instanceof SyntaxError) {\n      err.message = 'syntax error in ' + languageFile\n    }\n\n    if (err.code === 'ENOENT') localeLookup = {}\n    else throw err\n  }\n\n  this.cache[this.locale] = localeLookup\n}\n\nY18N.prototype._resolveLocaleFile = function (directory, locale) {\n  var file = path.resolve(directory, './', locale + '.json')\n  if (this.fallbackToLanguage && !this._fileExistsSync(file) && ~locale.lastIndexOf('_')) {\n    // attempt fallback to language only\n    var languageFile = path.resolve(directory, './', locale.split('_')[0] + '.json')\n    if (this._fileExistsSync(languageFile)) file = languageFile\n  }\n  return file\n}\n\n// this only exists because fs.existsSync() \"will be deprecated\"\n// see https://nodejs.org/api/fs.html#fs_fs_existssync_path\nY18N.prototype._fileExistsSync = function (file) {\n  try {\n    return fs.statSync(file).isFile()\n  } catch (err) {\n    return false\n  }\n}\n\nY18N.prototype.__n = function () {\n  var args = Array.prototype.slice.call(arguments)\n  var singular = args.shift()\n  var plural = args.shift()\n  var quantity = args.shift()\n\n  var cb = function () {} // start with noop.\n  if (typeof args[args.length - 1] === 'function') cb = args.pop()\n\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  var str = quantity === 1 ? singular : plural\n  if (this.cache[this.locale][singular]) {\n    str = this.cache[this.locale][singular][quantity === 1 ? 'one' : 'other']\n  }\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][singular] && this.updateFiles) {\n    this.cache[this.locale][singular] = {\n      one: singular,\n      other: plural\n    }\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb])\n  } else {\n    cb()\n  }\n\n  // if a %d placeholder is provided, add quantity\n  // to the arguments expanded by util.format.\n  var values = [str]\n  if (~str.indexOf('%d')) values.push(quantity)\n\n  return util.format.apply(util, values.concat(args))\n}\n\nY18N.prototype.setLocale = function (locale) {\n  this.locale = locale\n}\n\nY18N.prototype.getLocale = function () {\n  return this.locale\n}\n\nY18N.prototype.updateLocale = function (obj) {\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  for (var key in obj) {\n    this.cache[this.locale][key] = obj[key]\n  }\n}\n\nmodule.exports = function (opts) {\n  var y18n = new Y18N(opts)\n\n  // bind all functions to y18n, so that\n  // they can be used in isolation.\n  for (var key in y18n) {\n    if (typeof y18n[key] === 'function') {\n      y18n[key] = y18n[key].bind(y18n)\n    }\n  }\n\n  return y18n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}